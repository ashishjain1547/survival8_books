webpackJsonp([1],{0:function(t,e,s){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function i(t){F=t.streamInfo.commentCount,(0,n["default"])("i[data-comment-badge]").attr("data-comment-badge",F)}var o=s(2),n=a(o);s(1);var r=s(272),l=a(r),u=s(273),d=a(u),h=s(274),c=a(h),m=s(275),p=a(m),f=s(277),v=a(f),_=s(278),y=a(_),g=s(279),b=a(g);s(280);var j=s(160),P=a(j),w=s(282),C=a(w),k=s(249),S=a(k),x=s(292),E=a(x),q=s(293),T=a(q);l["default"].activateAll(),d["default"].activateAll(),c["default"].activateAll(),p["default"].activateAll(),v["default"].activateAll(),y["default"].activateAll(),b["default"].activateAll();var F=0;C["default"].activateAll(),C["default"].commentPromise.done(i),(0,n["default"])("body").on("update:comment",function(t,e){i(e)}),S["default"].activate((0,n["default"])("body")),E["default"].activate((0,n["default"])("body")),(0,n["default"])(window).on("scroll",(0,P["default"])(E["default"].checkPromo,200)),T["default"].activate((0,n["default"])("body"))},272:function(t,e,s){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function i(t){function e(){(0,n["default"])(".content-area--article").each(function(){c+=(0,n["default"])(this).outerHeight()})}function s(s){var i=0,o=u.scrollTop()-d.offset().top;if(o>0){t.width("100%"),t.fadeIn("fast"),"load"!==s.type&&"resize"!==s.type||(c=0,e());var n=Math.floor(t.width()/h),r=n*h;t.width(r),i=o/c,i=i>1?1:i;var l=i*t.width();a.width(Math.floor(l/h)*h)}else t.fadeOut("fast")}this.initializeAsComponent(t);var a=this.$(".meter-granules-filled");d.length&&(e(),u.on("load resize scroll",s))}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o=s(2),n=a(o),r=s(135),l=a(r),u=(0,n["default"])(window),d=(0,n["default"])(".article"),h=7,c=0;(0,l["default"])(i,".progress-meter"),t.exports=e["default"]},273:function(t,e,s){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function i(t){this.initializeAsComponent(t)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o=s(2),n=a(o),r=s(135),l=a(r);i.prototype={events:{click:"toggle"},toggle:function(t){t.preventDefault(),(0,n["default"])("div.article-executive-summary, div.article").fadeToggle(),this.$(".toggle-state").toggleClass("is-hidden")}},(0,l["default"])(i,"[js-target$='toggle-summary']"),t.exports=e["default"]},274:function(t,e,s){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function i(t){this.initializeAsComponent(t)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o=s(2),n=a(o),r=s(135),l=a(r),u=(0,n["default"])(window);i.prototype={events:{click:"cycle"},cycle:function(t){t.preventDefault();var e=u.scrollTop()/document.body.scrollHeight;(0,n["default"])(".article").toggleClass("article-larger"),u.scrollTop(e*document.body.scrollHeight),u.trigger("resize")}},(0,l["default"])(i,"[js-target$='text-size']"),t.exports=e["default"]},275:function(t,e,s){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function i(t){this.initializeAsComponent(t);var e="sidebar--half",s=this.$el.attr("class").split(/\s+/),a=(0,l["default"])(s,function(t){return 0===t.indexOf("sidebar")});this.$dom={title:this.$("h4"),contents:this.$(".sidebar-contents"),collapseButton:(0,n["default"])('<div class="sidebar-collapse"><i class="icon icon-times white font-size-large font-heavy"></i></div>'),expandButton:(0,n["default"])('<div class="sidebar-expand"><i class="icon icon-caret-right"></i> Read more</div>'),fadeMask:(0,n["default"])('<div class="sidebar-fade">&nbsp;</div>'),transitionStates:void 0!==this.$el.attr("data-sidebar-alternate")?[void 0!==a?a:e,this.$el.attr("data-sidebar-alternate")]:void 0},this.decorate()}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o=s(2),n=a(o),r=s(276),l=a(r),u=s(135),d=a(u);i.prototype={decorate:function(){var t=this;t.$dom.contents.hasClass("height--collapse")?(t.$dom.collapseButton.detach(),t.$dom.contents.after(t.$dom.expandButton),t.$dom.contents.after(t.$dom.fadeMask)):t.$dom.contents.hasClass("collapsible")&&(t.$dom.title.before(t.$dom.collapseButton),t.$dom.expandButton.detach(),t.$dom.fadeMask.detach())},redecorate:function(t){t.preventDefault();var e=this;void 0!==e.$dom.transitionStates&&e.$dom.transitionStates.length>1&&(e.$el.hasClass(e.$dom.transitionStates[1])?(e.$el.addClass(e.$dom.transitionStates[0]),e.$el.removeClass(e.$dom.transitionStates[1])):(e.$el.addClass(e.$dom.transitionStates[1]),e.$el.removeClass(e.$dom.transitionStates[0]))),e.$dom.contents.hasClass("height--collapse")?(e.$dom.contents.removeClass("height--collapse"),e.$dom.contents.addClass("collapsible"),e.$dom.contents.removeClass("column-collapse")):e.$dom.contents.hasClass("collapsible")&&(e.$dom.contents.addClass("height--collapse"),e.$dom.contents.removeClass("collapsible"),e.$dom.contents.addClass("column-collapse")),e.decorate()},events:{"click .sidebar-expand,.sidebar-collapse":"redecorate"}},(0,d["default"])(i,"article-sidebar"),t.exports=e["default"]},276:function(t,e,s){var a,i;a=[s(140),s(19)],i=function(t,e){function s(s,a,i){a=t(a,i,3);var o=-1,n=s?s.length:0;if("number"!=typeof n){var r;return e(s,function(t,e,s){return a(t,e,s)?(r=t,!1):void 0}),r}for(;++o<n;){var l=s[o];if(a(l,o,s))return l}}return s}.apply(e,a),!(void 0!==i&&(t.exports=i))},277:function(t,e,s){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function i(t){this.initializeAsComponent(t)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o=s(2),n=a(o),r=s(135),l=a(r),u=s(112),d=a(u),h=s(218),c=a(h);i.prototype={events:{click:"showRegister"},showRegister:function(t){var e=this;d["default"].isAuthenticated()||((0,n["default"])(t.target).attr("disabled","disabled"),d["default"].authPromise.then(function(){(0,n["default"])(t.target).removeAttr("disabled"),(0,n["default"])(t.target).focus()}),c["default"].activate(e.$el[0]).show(t))}},(0,l["default"])(i,".comments textarea"),t.exports=e["default"]},278:function(t,e,s){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function i(t){this.initializeAsComponent(t);var e=this;d["default"].signInPromise.then(function(){var t=e.$el.find("article-paywall"),s=e.$el.find("[js-target='article-content']"),a=e.$el.find("[js-target='pdf-download-link']");if(0!==t.length){if(n["default"].getSubscriberId()&&0!==a.length){var i=a.attr("data-reprint-product-id"),o="/download/S"+n["default"].getSubscriberId()+"/"+i+"/"+i;a.attr("href",o),a.removeClass("is-hidden")}t.fadeOut(500,function(){s.fadeIn(500)})}})}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o=s(112),n=a(o),r=s(135),l=a(r),u=s(134),d=a(u);i.prototype={events:{"click [js-target='dismiss-subscriber-only-message']":"dismissSubscriberOnlyMessage"},dismissSubscriberOnlyMessage:function(t){t.preventDefault(),this.$("[js-target='subscriber-only-message']").removeClass("active")}},(0,l["default"])(i,"article-content"),t.exports=e["default"]},279:function(t,e,s){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function i(t){this.initializeAsComponent(t),l["default"].authPromise.then(function(){if(l["default"].isSubscriber()){var t=this.$el.attr("data-reprint-product-id");this.$el.attr("href","/download/S"+l["default"].getSubscriberId()+"/"+t+"/"+t),this.$(".price--small").replaceWith('<i class="icon icon-lg icon-download-pdf"></i>'),this.$(".hide-for-small").html("<br/>PDF")}}.bind(this))}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o=s(135),n=a(o),r=s(112),l=a(r);(0,n["default"])(i,"[js-target='pdf-download-link']"),t.exports=e["default"]},280:function(t,e,s){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function i(t){function e(t){var e=(0,n["default"])(t.currentTarget).closest(".hbraudio-container").prev(),s=(0,n["default"])(e).data("player");console.log(s),(0,n["default"])(t.currentTarget).hide(),(0,n["default"])(s.playeridselector+" .hbraudio-pause").show(),(0,n["default"])(s.playeridselector+" .hbraudio-replay").show(),(0,n["default"])(s.playeridselector+" .hbraudio-headset").hide(),(0,n["default"])(s.playeridselector+" .hbraudio-share-toolbox").fadeIn(),(0,n["default"])(s.playeridselector+" .hbraudio-share-open").addClass("opened"),(0,n["default"])(e).jPlayer("play")}function s(t){var e=(0,n["default"])(t.currentTarget).closest(".hbraudio-container").prev(),s=(0,n["default"])(e).data("player");(0,n["default"])(t.currentTarget).hide(),(0,n["default"])(s.playeridselector+" .hbraudio-play").show(),(0,n["default"])(e).jPlayer("pause")}function a(t){var e=(0,n["default"])(t.currentTarget).closest(".hbraudio-container").prev(),s=(0,n["default"])(e).data("player");(0,n["default"])(e).jPlayer("play",0),(0,n["default"])(s.playeridselector+" .hbraudio-play").hide(),(0,n["default"])(s.playeridselector+" .hbraudio-pause").show()}function i(t){var e=(0,n["default"])("<div></div>"),s="<div class='hbraudio-top'><ul class='hbraudio-play-holder'><li><a class='hbraudio-play' title='Play'>Play</a></li><li><a class='hbraudio-pause' style='display:none' title='Pause'>Pause</a></li></ul><div class='hbraudio-time-holder'><div class='hbraudio-remaining-time'>";s+=t.playertime,s+="</div></div><ul class='hbraudio-replay-holder'><li><span class='hbraudio-headset'>Headset</span></li><li><a class='hbraudio-replay' style='display:none' title='Replay'>Replay</a></li></ul></div><div class='hbraudio-progress'><div class='hbraudio-seek-bar'><div class='hbraudio-play-bar'></div></div></div>";var a=[{classname:"download",linktext:"Download"},{classname:"twitter",linktext:"Twitter"},{classname:"linkedin",linktext:"LinkedIn"},{classname:"facebook",linktext:"Facebook"}],i=[];n["default"].each(a,function(e,s){var a="<li><a class='hbraudio-share-"+s.classname+"'";a+="download"===s.classname?"title='Right-click to download' href='"+t.src+"'>":"title='"+s.linktext+"'>",a+=s.linktext+"</a></li>",i.push(a)});var o=(0,n["default"])("<ul></ul>").addClass("hbraudio-share-tools").append(i.join("")),r=(0,n["default"])("<div></div>").addClass("hbraudio-share-opener").append("<a class='hbraudio-share-open'>Share tools</a>"),l=(0,n["default"])("<div></div>").addClass("hbraudio-container").width(t.w).attr("id",t.playerid).append(s).append((0,n["default"])("<div></div>").addClass("hbraudio-share").append(r).append((0,n["default"])("<div></div>").addClass("hbraudio-share-toolbox").append(o).hide()));t.audiotag.after(l).after(e)}function o(){(0,n["default"])(".hbraudio-play").click(e),(0,n["default"])(".hbraudio-pause").click(s),(0,n["default"])(".hbraudio-replay").click(a),(0,n["default"])(".hbraudio-share-open").click(r),(0,n["default"])(".hbraudio-share-twitter").click(u),(0,n["default"])(".hbraudio-share-linkedin").click(d),(0,n["default"])(".hbraudio-share-facebook").click(h)}function r(t){var e=(0,n["default"])(t.currentTarget).closest(".hbraudio-container").prev(),s=(0,n["default"])(e).data("player");(0,n["default"])(s.playeridselector+" .hbraudio-share-toolbox").fadeToggle(),(0,n["default"])(t.currentTarget).toggleClass("opened")}function l(t){var e=(screen.width-700)/2,s=(screen.height-450)/2;window.open(t,"mywindow","menubar=1,scrollbars=1,resizable=1,width=700,height=450,left="+e+",top="+s)}function u(t){var e=(0,n["default"])(t.currentTarget).closest(".hbraudio-container").prev(),s=(0,n["default"])(e).data("player"),a="http://twitter.com/share?text="+encodeURIComponent(s.audiotitle)+" "+encodeURIComponent(s.shareurl);l(a)}function d(t){var e=(0,n["default"])(t.currentTarget).closest(".hbraudio-container").prev(),s=(0,n["default"])(e).data("player"),a="http://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(s.shareurl);l(a)}function h(t){var e=(0,n["default"])(t.currentTarget).closest(".hbraudio-container").prev(),s=(0,n["default"])(e).data("player"),a="http://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(s.shareurl)+"&amp;t="+encodeURIComponent(s.audiotitle);l(a)}n["default"].each(t,function(t){var e,s,a=(0,n["default"])(this).attr("href"),r="audio"+t,l="hbrplayer"+r,u="#"+l,d="300px",h="00:00";"undefined"!=typeof(0,n["default"])(this).attr("width")&&((0,n["default"])(this).attr("width").match(/^([0-9]+)$/)?d=(0,n["default"])(this).attr("width")+"px":(0,n["default"])(this).attr("width").match(/^([0-9]+)%$/)&&(d=(0,n["default"])(this).attr("width"))),e="undefined"==typeof(0,n["default"])(this).attr("data-share-url")?window.location:(0,n["default"])(this).attr("data-share-url"),s="undefined"==typeof(0,n["default"])(this).attr("title")?document.title:(0,n["default"])(this).attr("title"),"undefined"!=typeof(0,n["default"])(this).attr("data-audio-length")&&(0,n["default"])(this).attr("data-audio-length").match(/\d\d:\d\d/)&&(h=(0,n["default"])(this).attr("data-audio-length"));var c={audiotag:(0,n["default"])(this),audioindex:t,audioid:r,playerid:l,playeridselector:u,src:a,w:d,playertime:h,audiotitle:s,shareurl:e};i(c);var m=(0,n["default"])(this).next();c.jplayerdiv=m,m.data("player",c),m.updateTimer=function(t){var e=t.jPlayer.status,s=e.duration-e.currentTime;0===s&&"undefined"!=typeof(0,n["default"])(t.currentTarget).data("player").playertime?(0,n["default"])(u+" .hbraudio-remaining-time").text((0,n["default"])(t.currentTarget).data("player").playertime):(0,n["default"])(u+" .hbraudio-remaining-time").text(n["default"].jPlayer.convertTime(s))},m.jPlayer({ready:function(){(0,n["default"])(this).jPlayer("setMedia",{mp3:a})},swfPath:"Jplayer.swf",supplied:"mp3",wmode:"window",cssSelectorAncestor:u,cssSelector:{seekBar:".hbraudio-seek-bar",playBar:".hbraudio-play-bar"}}).bind(n["default"].jPlayer.event.timeupdate,m.updateTimer),(0,n["default"])(this).hide(),o()})}var o=s(2),n=a(o);s(281),(0,n["default"])(".hbraudio").length>0&&i((0,n["default"])(".hbraudio"))},281:function(t,e,s){var a,i,o;!function(n,r){i=[s(2)],a=r,o="function"==typeof a?a.apply(e,i):a,!(void 0!==o&&(t.exports=o))}(this,function(t,e){t.fn.jPlayer=function(s){var a="jPlayer",i="string"==typeof s,o=Array.prototype.slice.call(arguments,1),n=this;return s=!i&&o.length?t.extend.apply(null,[!0,s].concat(o)):s,i&&"_"===s.charAt(0)?n:(i?this.each(function(){var i=t(this).data(a),r=i&&t.isFunction(i[s])?i[s].apply(i,o):i;return r!==i&&r!==e?(n=r,!1):void 0}):this.each(function(){var e=t(this).data(a);e?e.option(s||{}):t(this).data(a,new t.jPlayer(s,this))}),n)},t.jPlayer=function(e,s){if(arguments.length){this.element=t(s),this.options=t.extend(!0,{},this.options,e);var a=this;this.element.bind("remove.jPlayer",function(){a.destroy()}),this._init()}},"function"!=typeof t.fn.stop&&(t.fn.stop=function(){}),t.jPlayer.emulateMethods="load play pause",t.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate",t.jPlayer.emulateOptions="muted volume",t.jPlayer.reservedEvent="ready flashreset resize repeat error warning",t.jPlayer.event={},t.each(["ready","setmedia","flashreset","resize","repeat","click","error","warning","loadstart","progress","suspend","abort","emptied","stalled","play","pause","loadedmetadata","loadeddata","waiting","playing","canplay","canplaythrough","seeking","seeked","timeupdate","ended","ratechange","durationchange","volumechange"],function(){t.jPlayer.event[this]="jPlayer_"+this}),t.jPlayer.htmlEvent=["loadstart","abort","emptied","stalled","loadedmetadata","canplay","canplaythrough"],t.jPlayer.pause=function(){t.jPlayer.prototype.destroyRemoved(),t.each(t.jPlayer.prototype.instances,function(t,e){e.data("jPlayer").status.srcSet&&e.jPlayer("pause")})},t.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""};var s=function(){this.init()};s.prototype={init:function(){this.options={timeFormat:t.jPlayer.timeFormat}},time:function(t){t=t&&"number"==typeof t?t:0;var e=new Date(1e3*t),s=e.getUTCHours(),a=this.options.timeFormat.showHour?e.getUTCMinutes():e.getUTCMinutes()+60*s,i=this.options.timeFormat.showMin?e.getUTCSeconds():e.getUTCSeconds()+60*a,o=this.options.timeFormat.padHour&&10>s?"0"+s:s,n=this.options.timeFormat.padMin&&10>a?"0"+a:a,r=this.options.timeFormat.padSec&&10>i?"0"+i:i,l="";return l+=this.options.timeFormat.showHour?o+this.options.timeFormat.sepHour:"",l+=this.options.timeFormat.showMin?n+this.options.timeFormat.sepMin:"",l+=this.options.timeFormat.showSec?r+this.options.timeFormat.sepSec:""}};var a=new s;t.jPlayer.convertTime=function(t){return a.time(t)},t.jPlayer.uaBrowser=function(t){var e=t.toLowerCase(),s=/(webkit)[ \/]([\w.]+)/,a=/(opera)(?:.*version)?[ \/]([\w.]+)/,i=/(msie) ([\w.]+)/,o=/(mozilla)(?:.*? rv:([\w.]+))?/,n=s.exec(e)||a.exec(e)||i.exec(e)||e.indexOf("compatible")<0&&o.exec(e)||[];return{browser:n[1]||"",version:n[2]||"0"}},t.jPlayer.uaPlatform=function(t){var e=t.toLowerCase(),s=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/,a=/(ipad|playbook)/,i=/(android)/,o=/(mobile)/,n=s.exec(e)||[],r=a.exec(e)||!o.exec(e)&&i.exec(e)||[];return n[1]&&(n[1]=n[1].replace(/\s/g,"_")),{platform:n[1]||"",tablet:r[1]||""}},t.jPlayer.browser={},t.jPlayer.platform={};var i=t.jPlayer.uaBrowser(navigator.userAgent);i.browser&&(t.jPlayer.browser[i.browser]=!0,t.jPlayer.browser.version=i.version);var o=t.jPlayer.uaPlatform(navigator.userAgent);o.platform&&(t.jPlayer.platform[o.platform]=!0,t.jPlayer.platform.mobile=!o.tablet,t.jPlayer.platform.tablet=!!o.tablet),t.jPlayer.getDocMode=function(){var e;return t.jPlayer.browser.msie&&(document.documentMode?e=document.documentMode:(e=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(e=7))),e},t.jPlayer.browser.documentMode=t.jPlayer.getDocMode(),t.jPlayer.nativeFeatures={init:function(){var t,e,s,a=document,i=a.createElement("video"),o={w3c:["fullscreenEnabled","fullscreenElement","requestFullscreen","exitFullscreen","fullscreenchange","fullscreenerror"],moz:["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],webkit:["","webkitCurrentFullScreenElement","webkitRequestFullScreen","webkitCancelFullScreen","webkitfullscreenchange",""],webkitVideo:["webkitSupportsFullscreen","webkitDisplayingFullscreen","webkitEnterFullscreen","webkitExitFullscreen","",""],ms:["","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError"]},n=["w3c","moz","webkit","webkitVideo","ms"];for(this.fullscreen=t={support:{w3c:!!a[o.w3c[0]],moz:!!a[o.moz[0]],webkit:"function"==typeof a[o.webkit[3]],webkitVideo:"function"==typeof i[o.webkitVideo[2]],ms:"function"==typeof i[o.ms[2]]},used:{}},e=0,s=n.length;s>e;e++){var r=n[e];if(t.support[r]){t.spec=r,t.used[r]=!0;break}}if(t.spec){var l=o[t.spec];t.api={fullscreenEnabled:!0,fullscreenElement:function(t){return t=t?t:a,t[l[1]]},requestFullscreen:function(t){return t[l[2]]()},exitFullscreen:function(t){return t=t?t:a,t[l[3]]()}},t.event={fullscreenchange:l[4],fullscreenerror:l[5]}}else t.api={fullscreenEnabled:!1,fullscreenElement:function(){return null},requestFullscreen:function(){},exitFullscreen:function(){}},t.event={}}},t.jPlayer.nativeFeatures.init(),t.jPlayer.focus=null,t.jPlayer.keyIgnoreElementNames="A INPUT TEXTAREA SELECT BUTTON";var n=function(e){var s,a=t.jPlayer.focus;a&&(t.each(t.jPlayer.keyIgnoreElementNames.split(/\s+/g),function(t,a){return e.target.nodeName.toUpperCase()===a.toUpperCase()?(s=!0,!1):void 0}),s||t.each(a.options.keyBindings,function(s,i){return i&&t.isFunction(i.fn)&&("number"==typeof i.key&&e.which===i.key||"string"==typeof i.key&&e.key===i.key)?(e.preventDefault(),i.fn(a),!1):void 0}))};t.jPlayer.keys=function(e){var s="keydown.jPlayer";t(document.documentElement).unbind(s),e&&t(document.documentElement).bind(s,n)},t.jPlayer.keys(!0),t.jPlayer.prototype={count:0,version:{script:"2.9.2",needFlash:"2.9.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",auroraFormats:"wav",preload:"metadata",volume:.8,muted:!1,remainingDuration:!1,toggleDuration:!1,captureDuration:!0,playbackRate:1,defaultPlaybackRate:1,minPlaybackRate:.5,maxPlaybackRate:4,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",playbackRateBar:".jp-playback-rate-bar",playbackRateBarValue:".jp-playback-rate-bar-value",currentTime:".jp-current-time",duration:".jp-duration",title:".jp-title",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},stateClass:{playing:"jp-state-playing",seeking:"jp-state-seeking",muted:"jp-state-muted",looped:"jp-state-looped",fullScreen:"jp-state-full-screen",noVolume:"jp-state-no-volume"},useStateClassSkin:!1,autoBlur:!0,smoothPlayBar:!1,fullScreen:!1,fullWindow:!1,autohide:{restored:!1,full:!0,fadeIn:200,fadeOut:600,hold:1e3},loop:!1,repeat:function(e){e.jPlayer.options.loop?t(this).unbind(".jPlayerRepeat").bind(t.jPlayer.event.ended+".jPlayer.jPlayerRepeat",function(){t(this).jPlayer("play")}):t(this).unbind(".jPlayerRepeat")},nativeVideoControls:{},noFullWindow:{msie:/msie [0-6]\./,ipad:/ipad.*?os [0-4]\./,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3]\.(?!.*?mobile)/,android_phone:/(?=.*android)(?!.*chrome)(?=.*mobile)/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/,playbook:/playbook/},timeFormat:{},keyEnabled:!1,audioFullScreen:!1,keyBindings:{play:{key:80,fn:function(t){t.status.paused?t.play():t.pause()}},fullScreen:{key:70,fn:function(t){(t.status.video||t.options.audioFullScreen)&&t._setOption("fullScreen",!t.options.fullScreen)}},muted:{key:77,fn:function(t){t._muted(!t.options.muted)}},volumeUp:{key:190,fn:function(t){t.volume(t.options.volume+.1)}},volumeDown:{key:188,fn:function(t){t.volume(t.options.volume-.1)}},loop:{key:76,fn:function(t){t._loop(!t.options.loop)}}},verticalVolume:!1,verticalPlaybackRate:!1,globalVolume:!1,idPrefix:"jp",noConflict:"jQuery",emulateHtml:!1,consoleAlerts:!0,errorAlerts:!1,warningAlerts:!1},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,remaining:0,videoWidth:0,videoHeight:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:!1},solution:{html:!0,aurora:!0,flash:!0},format:{mp3:{codec:"audio/mpeg",flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:!0,media:"audio"},m3u8a:{codec:'application/vnd.apple.mpegurl; codecs="mp4a.40.2"',flashCanPlay:!1,media:"audio"},m3ua:{codec:"audio/mpegurl",flashCanPlay:!1,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis, opus"',flashCanPlay:!1,media:"audio"},flac:{codec:"audio/x-flac",flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},m3u8v:{codec:'application/vnd.apple.mpegurl; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!1,media:"video"},m3uv:{codec:"audio/mpegurl",flashCanPlay:!1,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"video"}},_init:function(){var s=this;if(this.element.empty(),this.status=t.extend({},this.status),this.internal=t.extend({},this.internal),this.options.timeFormat=t.extend({},t.jPlayer.timeFormat,this.options.timeFormat),this.internal.cmdsIgnored=t.jPlayer.platform.ipad||t.jPlayer.platform.iphone||t.jPlayer.platform.ipod,this.internal.domNode=this.element.get(0),this.options.keyEnabled&&!t.jPlayer.focus&&(t.jPlayer.focus=this),this.androidFix={setMedia:!1,play:!1,pause:!1,time:NaN},t.jPlayer.platform.android&&(this.options.preload="auto"!==this.options.preload?"metadata":"auto"),this.formats=[],this.solutions=[],this.require={},this.htmlElement={},this.html={},this.html.audio={},this.html.video={},this.aurora={},this.aurora.formats=[],this.aurora.properties=[],this.flash={},this.css={},this.css.cs={},this.css.jq={},this.ancestorJq=[],this.options.volume=this._limitValue(this.options.volume,0,1),t.each(this.options.supplied.toLowerCase().split(","),function(e,a){var i=a.replace(/^\s+|\s+$/g,"");if(s.format[i]){var o=!1;t.each(s.formats,function(t,e){return i===e?(o=!0,!1):void 0}),o||s.formats.push(i)}}),t.each(this.options.solution.toLowerCase().split(","),function(e,a){var i=a.replace(/^\s+|\s+$/g,"");if(s.solution[i]){var o=!1;t.each(s.solutions,function(t,e){return i===e?(o=!0,!1):void 0}),o||s.solutions.push(i)}}),t.each(this.options.auroraFormats.toLowerCase().split(","),function(e,a){var i=a.replace(/^\s+|\s+$/g,"");if(s.format[i]){var o=!1;t.each(s.aurora.formats,function(t,e){return i===e?(o=!0,!1):void 0}),o||s.aurora.formats.push(i)}}),this.internal.instance="jp_"+this.count,this.instances[this.internal.instance]=this.element,this.element.attr("id")||this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count),this.internal.self=t.extend({},{id:this.element.attr("id"),jq:this.element}),this.internal.audio=t.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:e}),this.internal.video=t.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:e}),this.internal.flash=t.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:e,swf:this.options.swfPath+(".swf"!==this.options.swfPath.toLowerCase().slice(-4)?(this.options.swfPath&&"/"!==this.options.swfPath.slice(-1)?"/":"")+"jquery.jplayer.swf":"")}),this.internal.poster=t.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:e}),t.each(t.jPlayer.event,function(t,a){s.options[t]!==e&&(s.element.bind(a+".jPlayer",s.options[t]),s.options[t]=e)}),this.require.audio=!1,this.require.video=!1,t.each(this.formats,function(t,e){s.require[s.format[e].media]=!0}),this.require.video?this.options=t.extend(!0,{},this.optionsVideo,this.options):this.options=t.extend(!0,{},this.optionsAudio,this.options),this._setSize(),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this.status.noVolume=this._uaBlocklist(this.options.noVolume),t.jPlayer.nativeFeatures.fullscreen.api.fullscreenEnabled&&this._fullscreenAddEventListeners(),this._restrictNativeVideoControls(),this.htmlElement.poster=document.createElement("img"),this.htmlElement.poster.id=this.internal.poster.id,this.htmlElement.poster.onload=function(){s.status.video&&!s.status.waitForPlay||s.internal.poster.jq.show()},this.element.append(this.htmlElement.poster),this.internal.poster.jq=t("#"+this.internal.poster.id),this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),this.internal.poster.jq.hide(),this.internal.poster.jq.bind("click.jPlayer",function(){s._trigger(t.jPlayer.event.click)}),this.html.audio.available=!1,this.require.audio&&(this.htmlElement.audio=document.createElement("audio"),this.htmlElement.audio.id=this.internal.audio.id,this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio)),this.html.video.available=!1,this.require.video&&(this.htmlElement.video=document.createElement("video"),this.htmlElement.video.id=this.internal.video.id,this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video)),this.flash.available=this._checkForFlash(10.1),this.html.canPlay={},this.aurora.canPlay={},this.flash.canPlay={},t.each(this.formats,function(e,a){s.html.canPlay[a]=s.html[s.format[a].media].available&&""!==s.htmlElement[s.format[a].media].canPlayType(s.format[a].codec),s.aurora.canPlay[a]=t.inArray(a,s.aurora.formats)>-1,s.flash.canPlay[a]=s.format[a].flashCanPlay&&s.flash.available}),this.html.desired=!1,this.aurora.desired=!1,this.flash.desired=!1,t.each(this.solutions,function(e,a){if(0===e)s[a].desired=!0;else{var i=!1,o=!1;t.each(s.formats,function(t,e){s[s.solutions[0]].canPlay[e]&&("video"===s.format[e].media?o=!0:i=!0)}),s[a].desired=s.require.audio&&!i||s.require.video&&!o}}),this.html.support={},this.aurora.support={},this.flash.support={},t.each(this.formats,function(t,e){s.html.support[e]=s.html.canPlay[e]&&s.html.desired,s.aurora.support[e]=s.aurora.canPlay[e]&&s.aurora.desired,s.flash.support[e]=s.flash.canPlay[e]&&s.flash.desired}),this.html.used=!1,this.aurora.used=!1,this.flash.used=!1,t.each(this.solutions,function(e,a){t.each(s.formats,function(t,e){return s[a].support[e]?(s[a].used=!0,!1):void 0})}),this._resetActive(),this._resetGate(),this._cssSelectorAncestor(this.options.cssSelectorAncestor),this.html.used||this.aurora.used||this.flash.used?this.css.jq.noSolution.length&&this.css.jq.noSolution.hide():(this._error({type:t.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:t.jPlayer.errorMsg.NO_SOLUTION,hint:t.jPlayer.errorHint.NO_SOLUTION}),this.css.jq.noSolution.length&&this.css.jq.noSolution.show()),this.flash.used){var a,i="jQuery="+encodeURI(this.options.noConflict)+"&id="+encodeURI(this.internal.self.id)+"&vol="+this.options.volume+"&muted="+this.options.muted;if(t.jPlayer.browser.msie&&(Number(t.jPlayer.browser.version)<9||t.jPlayer.browser.documentMode<9)){var o='<object id="'+this.internal.flash.id+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0" tabindex="-1"></object>',n=['<param name="movie" value="'+this.internal.flash.swf+'" />','<param name="FlashVars" value="'+i+'" />','<param name="allowScriptAccess" value="always" />','<param name="bgcolor" value="'+this.options.backgroundColor+'" />','<param name="wmode" value="'+this.options.wmode+'" />'];a=document.createElement(o);for(var r=0;r<n.length;r++)a.appendChild(document.createElement(n[r]))}else{var l=function(t,e,s){var a=document.createElement("param");a.setAttribute("name",e),a.setAttribute("value",s),t.appendChild(a)};a=document.createElement("object"),a.setAttribute("id",this.internal.flash.id),a.setAttribute("name",this.internal.flash.id),a.setAttribute("data",this.internal.flash.swf),a.setAttribute("type","application/x-shockwave-flash"),a.setAttribute("width","1"),a.setAttribute("height","1"),a.setAttribute("tabindex","-1"),l(a,"flashvars",i),l(a,"allowscriptaccess","always"),l(a,"bgcolor",this.options.backgroundColor),l(a,"wmode",this.options.wmode)}this.element.append(a),this.internal.flash.jq=t(a)}this.html.used&&!this.flash.used?this.status.playbackRateEnabled=this._testPlaybackRate("audio"):this.status.playbackRateEnabled=!1,this._updatePlaybackRate(),this.html.used&&(this.html.audio.available&&(this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio),this.element.append(this.htmlElement.audio),this.internal.audio.jq=t("#"+this.internal.audio.id)),this.html.video.available&&(this._addHtmlEventListeners(this.htmlElement.video,this.html.video),this.element.append(this.htmlElement.video),this.internal.video.jq=t("#"+this.internal.video.id),this.status.nativeVideoControls?this.internal.video.jq.css({
width:this.status.width,height:this.status.height}):this.internal.video.jq.css({width:"0px",height:"0px"}),this.internal.video.jq.bind("click.jPlayer",function(){s._trigger(t.jPlayer.event.click)}))),this.aurora.used,this.options.emulateHtml&&this._emulateHtmlBridge(),!this.html.used&&!this.aurora.used||this.flash.used||setTimeout(function(){s.internal.ready=!0,s.version.flash="n/a",s._trigger(t.jPlayer.event.repeat),s._trigger(t.jPlayer.event.ready)},100),this._updateNativeVideoControls(),this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),t.jPlayer.prototype.count++},destroy:function(){this.clearMedia(),this._removeUiClass(),this.css.jq.currentTime.length&&this.css.jq.currentTime.text(""),this.css.jq.duration.length&&this.css.jq.duration.text(""),t.each(this.css.jq,function(t,e){e.length&&e.unbind(".jPlayer")}),this.internal.poster.jq.unbind(".jPlayer"),this.internal.video.jq&&this.internal.video.jq.unbind(".jPlayer"),this._fullscreenRemoveEventListeners(),this===t.jPlayer.focus&&(t.jPlayer.focus=null),this.options.emulateHtml&&this._destroyHtmlBridge(),this.element.removeData("jPlayer"),this.element.unbind(".jPlayer"),this.element.empty(),delete this.instances[this.internal.instance]},destroyRemoved:function(){var e=this;t.each(this.instances,function(t,s){e.element!==s&&(s.data("jPlayer")||(s.jPlayer("destroy"),delete e.instances[t]))})},enable:function(){},disable:function(){},_testCanPlayType:function(t){try{return t.canPlayType(this.format.mp3.codec),!0}catch(e){return!1}},_testPlaybackRate:function(t){var e,s=.5;t="string"==typeof t?t:"audio",e=document.createElement(t);try{return"playbackRate"in e?(e.playbackRate=s,e.playbackRate===s):!1}catch(a){return!1}},_uaBlocklist:function(e){var s=navigator.userAgent.toLowerCase(),a=!1;return t.each(e,function(t,e){return e&&e.test(s)?(a=!0,!1):void 0}),a},_restrictNativeVideoControls:function(){this.require.audio&&this.status.nativeVideoControls&&(this.status.nativeVideoControls=!1,this.status.noFullWindow=!0)},_updateNativeVideoControls:function(){this.html.video.available&&this.html.used&&(this.htmlElement.video.controls=this.status.nativeVideoControls,this._updateAutohide(),this.status.nativeVideoControls&&this.require.video?(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})):this.status.waitForPlay&&this.status.video&&(this.internal.poster.jq.show(),this.internal.video.jq.css({width:"0px",height:"0px"})))},_addHtmlEventListeners:function(e,s){var a=this;e.preload=this.options.preload,e.muted=this.options.muted,e.volume=this.options.volume,this.status.playbackRateEnabled&&(e.defaultPlaybackRate=this.options.defaultPlaybackRate,e.playbackRate=this.options.playbackRate),e.addEventListener("progress",function(){s.gate&&(a.internal.cmdsIgnored&&this.readyState>0&&(a.internal.cmdsIgnored=!1),a._getHtmlStatus(e),a._updateInterface(),a._trigger(t.jPlayer.event.progress))},!1),e.addEventListener("loadeddata",function(){s.gate&&(a.androidFix.setMedia=!1,a.androidFix.play&&(a.androidFix.play=!1,a.play(a.androidFix.time)),a.androidFix.pause&&(a.androidFix.pause=!1,a.pause(a.androidFix.time)),a._trigger(t.jPlayer.event.loadeddata))},!1),e.addEventListener("timeupdate",function(){s.gate&&(a._getHtmlStatus(e),a._updateInterface(),a._trigger(t.jPlayer.event.timeupdate))},!1),e.addEventListener("durationchange",function(){s.gate&&(a._getHtmlStatus(e),a._updateInterface(),a._trigger(t.jPlayer.event.durationchange))},!1),e.addEventListener("play",function(){s.gate&&(a._updateButtons(!0),a._html_checkWaitForPlay(),a._trigger(t.jPlayer.event.play))},!1),e.addEventListener("playing",function(){s.gate&&(a._updateButtons(!0),a._seeked(),a._trigger(t.jPlayer.event.playing))},!1),e.addEventListener("pause",function(){s.gate&&(a._updateButtons(!1),a._trigger(t.jPlayer.event.pause))},!1),e.addEventListener("waiting",function(){s.gate&&(a._seeking(),a._trigger(t.jPlayer.event.waiting))},!1),e.addEventListener("seeking",function(){s.gate&&(a._seeking(),a._trigger(t.jPlayer.event.seeking))},!1),e.addEventListener("seeked",function(){s.gate&&(a._seeked(),a._trigger(t.jPlayer.event.seeked))},!1),e.addEventListener("volumechange",function(){s.gate&&(a.options.volume=e.volume,a.options.muted=e.muted,a._updateMute(),a._updateVolume(),a._trigger(t.jPlayer.event.volumechange))},!1),e.addEventListener("ratechange",function(){s.gate&&(a.options.defaultPlaybackRate=e.defaultPlaybackRate,a.options.playbackRate=e.playbackRate,a._updatePlaybackRate(),a._trigger(t.jPlayer.event.ratechange))},!1),e.addEventListener("suspend",function(){s.gate&&(a._seeked(),a._trigger(t.jPlayer.event.suspend))},!1),e.addEventListener("ended",function(){s.gate&&(t.jPlayer.browser.webkit||(a.htmlElement.media.currentTime=0),a.htmlElement.media.pause(),a._updateButtons(!1),a._getHtmlStatus(e,!0),a._updateInterface(),a._trigger(t.jPlayer.event.ended))},!1),e.addEventListener("error",function(){s.gate&&(a._updateButtons(!1),a._seeked(),a.status.srcSet&&(clearTimeout(a.internal.htmlDlyCmdId),a.status.waitForLoad=!0,a.status.waitForPlay=!0,a.status.video&&!a.status.nativeVideoControls&&a.internal.video.jq.css({width:"0px",height:"0px"}),a._validString(a.status.media.poster)&&!a.status.nativeVideoControls&&a.internal.poster.jq.show(),a.css.jq.videoPlay.length&&a.css.jq.videoPlay.show(),a._error({type:t.jPlayer.error.URL,context:a.status.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL})))},!1),t.each(t.jPlayer.htmlEvent,function(i,o){e.addEventListener(this,function(){s.gate&&a._trigger(t.jPlayer.event[o])},!1)})},_addAuroraEventListeners:function(e,s){var a=this;e.volume=100*this.options.volume,e.on("progress",function(){s.gate&&(a.internal.cmdsIgnored&&this.readyState>0&&(a.internal.cmdsIgnored=!1),a._getAuroraStatus(e),a._updateInterface(),a._trigger(t.jPlayer.event.progress),e.duration>0&&a._trigger(t.jPlayer.event.timeupdate))},!1),e.on("ready",function(){s.gate&&a._trigger(t.jPlayer.event.loadeddata)},!1),e.on("duration",function(){s.gate&&(a._getAuroraStatus(e),a._updateInterface(),a._trigger(t.jPlayer.event.durationchange))},!1),e.on("end",function(){s.gate&&(a._updateButtons(!1),a._getAuroraStatus(e,!0),a._updateInterface(),a._trigger(t.jPlayer.event.ended))},!1),e.on("error",function(){s.gate&&(a._updateButtons(!1),a._seeked(),a.status.srcSet&&(a.status.waitForLoad=!0,a.status.waitForPlay=!0,a.status.video&&!a.status.nativeVideoControls&&a.internal.video.jq.css({width:"0px",height:"0px"}),a._validString(a.status.media.poster)&&!a.status.nativeVideoControls&&a.internal.poster.jq.show(),a.css.jq.videoPlay.length&&a.css.jq.videoPlay.show(),a._error({type:t.jPlayer.error.URL,context:a.status.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL})))},!1)},_getHtmlStatus:function(t,e){var s=0,a=0,i=0,o=0;isFinite(t.duration)&&(this.status.duration=t.duration),s=t.currentTime,a=this.status.duration>0?100*s/this.status.duration:0,"object"==typeof t.seekable&&t.seekable.length>0?(i=this.status.duration>0?100*t.seekable.end(t.seekable.length-1)/this.status.duration:100,o=this.status.duration>0?100*t.currentTime/t.seekable.end(t.seekable.length-1):0):(i=100,o=a),e&&(s=0,o=0,a=0),this.status.seekPercent=i,this.status.currentPercentRelative=o,this.status.currentPercentAbsolute=a,this.status.currentTime=s,this.status.remaining=this.status.duration-this.status.currentTime,this.status.videoWidth=t.videoWidth,this.status.videoHeight=t.videoHeight,this.status.readyState=t.readyState,this.status.networkState=t.networkState,this.status.playbackRate=t.playbackRate,this.status.ended=t.ended},_getAuroraStatus:function(t,e){var s=0,a=0,i=0,o=0;this.status.duration=t.duration/1e3,s=t.currentTime/1e3,a=this.status.duration>0?100*s/this.status.duration:0,t.buffered>0?(i=this.status.duration>0?t.buffered*this.status.duration/this.status.duration:100,o=this.status.duration>0?s/(t.buffered*this.status.duration):0):(i=100,o=a),e&&(s=0,o=0,a=0),this.status.seekPercent=i,this.status.currentPercentRelative=o,this.status.currentPercentAbsolute=a,this.status.currentTime=s,this.status.remaining=this.status.duration-this.status.currentTime,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_resetStatus:function(){this.status=t.extend({},this.status,t.jPlayer.prototype.status)},_trigger:function(e,s,a){var i=t.Event(e);i.jPlayer={},i.jPlayer.version=t.extend({},this.version),i.jPlayer.options=t.extend(!0,{},this.options),i.jPlayer.status=t.extend(!0,{},this.status),i.jPlayer.html=t.extend(!0,{},this.html),i.jPlayer.aurora=t.extend(!0,{},this.aurora),i.jPlayer.flash=t.extend(!0,{},this.flash),s&&(i.jPlayer.error=t.extend({},s)),a&&(i.jPlayer.warning=t.extend({},a)),this.element.trigger(i)},jPlayerFlashEvent:function(e,s){if(e===t.jPlayer.event.ready)if(this.internal.ready){if(this.flash.gate){if(this.status.srcSet){var a=this.status.currentTime,i=this.status.paused;this.setMedia(this.status.media),this.volumeWorker(this.options.volume),a>0&&(i?this.pause(a):this.play(a))}this._trigger(t.jPlayer.event.flashreset)}}else this.internal.ready=!0,this.internal.flash.jq.css({width:"0px",height:"0px"}),this.version.flash=s.version,this.version.needFlash!==this.version.flash&&this._error({type:t.jPlayer.error.VERSION,context:this.version.flash,message:t.jPlayer.errorMsg.VERSION+this.version.flash,hint:t.jPlayer.errorHint.VERSION}),this._trigger(t.jPlayer.event.repeat),this._trigger(e);if(this.flash.gate)switch(e){case t.jPlayer.event.progress:this._getFlashStatus(s),this._updateInterface(),this._trigger(e);break;case t.jPlayer.event.timeupdate:this._getFlashStatus(s),this._updateInterface(),this._trigger(e);break;case t.jPlayer.event.play:this._seeked(),this._updateButtons(!0),this._trigger(e);break;case t.jPlayer.event.pause:this._updateButtons(!1),this._trigger(e);break;case t.jPlayer.event.ended:this._updateButtons(!1),this._trigger(e);break;case t.jPlayer.event.click:this._trigger(e);break;case t.jPlayer.event.error:this.status.waitForLoad=!0,this.status.waitForPlay=!0,this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"}),this._validString(this.status.media.poster)&&this.internal.poster.jq.show(),this.css.jq.videoPlay.length&&this.status.video&&this.css.jq.videoPlay.show(),this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media),this._updateButtons(!1),this._error({type:t.jPlayer.error.URL,context:s.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL});break;case t.jPlayer.event.seeking:this._seeking(),this._trigger(e);break;case t.jPlayer.event.seeked:this._seeked(),this._trigger(e);break;case t.jPlayer.event.ready:break;default:this._trigger(e)}return!1},_getFlashStatus:function(t){this.status.seekPercent=t.seekPercent,this.status.currentPercentRelative=t.currentPercentRelative,this.status.currentPercentAbsolute=t.currentPercentAbsolute,this.status.currentTime=t.currentTime,this.status.duration=t.duration,this.status.remaining=t.duration-t.currentTime,this.status.videoWidth=t.videoWidth,this.status.videoHeight=t.videoHeight,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_updateButtons:function(t){t===e?t=!this.status.paused:this.status.paused=!t,t?this.addStateClass("playing"):this.removeStateClass("playing"),!this.status.noFullWindow&&this.options.fullWindow?this.addStateClass("fullScreen"):this.removeStateClass("fullScreen"),this.options.loop?this.addStateClass("looped"):this.removeStateClass("looped"),this.css.jq.play.length&&this.css.jq.pause.length&&(t?(this.css.jq.play.hide(),this.css.jq.pause.show()):(this.css.jq.play.show(),this.css.jq.pause.hide())),this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length&&(this.status.noFullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.hide()):this.options.fullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.show()):(this.css.jq.fullScreen.show(),this.css.jq.restoreScreen.hide())),this.css.jq.repeat.length&&this.css.jq.repeatOff.length&&(this.options.loop?(this.css.jq.repeat.hide(),this.css.jq.repeatOff.show()):(this.css.jq.repeat.show(),this.css.jq.repeatOff.hide()))},_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%"),this.css.jq.playBar.length&&(this.options.smoothPlayBar?this.css.jq.playBar.stop().animate({width:this.status.currentPercentAbsolute+"%"},250,"linear"):this.css.jq.playBar.width(this.status.currentPercentRelative+"%"));var t="";this.css.jq.currentTime.length&&(t=this._convertTime(this.status.currentTime),t!==this.css.jq.currentTime.text()&&this.css.jq.currentTime.text(this._convertTime(this.status.currentTime)));var e="",s=this.status.duration,a=this.status.remaining;this.css.jq.duration.length&&("string"==typeof this.status.media.duration?e=this.status.media.duration:("number"==typeof this.status.media.duration&&(s=this.status.media.duration,a=s-this.status.currentTime),e=this.options.remainingDuration?(a>0?"-":"")+this._convertTime(a):this._convertTime(s)),e!==this.css.jq.duration.text()&&this.css.jq.duration.text(e))},_convertTime:s.prototype.time,_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg"),this.addStateClass("seeking")},_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg"),this.removeStateClass("seeking")},_resetGate:function(){this.html.audio.gate=!1,this.html.video.gate=!1,this.aurora.gate=!1,this.flash.gate=!1},_resetActive:function(){this.html.active=!1,this.aurora.active=!1,this.flash.active=!1},_escapeHtml:function(t){return t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")},_qualifyURL:function(t){var e=document.createElement("div");return e.innerHTML='<a href="'+this._escapeHtml(t)+'">x</a>',e.firstChild.href},_absoluteMediaUrls:function(e){var s=this;return t.each(e,function(t,a){a&&s.format[t]&&"data:"!==a.substr(0,5)&&(e[t]=s._qualifyURL(a))}),e},addStateClass:function(t){this.ancestorJq.length&&this.ancestorJq.addClass(this.options.stateClass[t])},removeStateClass:function(t){this.ancestorJq.length&&this.ancestorJq.removeClass(this.options.stateClass[t])},setMedia:function(e){var s=this,a=!1,i=this.status.media.poster!==e.poster;this._resetMedia(),this._resetGate(),this._resetActive(),this.androidFix.setMedia=!1,this.androidFix.play=!1,this.androidFix.pause=!1,e=this._absoluteMediaUrls(e),t.each(this.formats,function(i,o){var n="video"===s.format[o].media;return t.each(s.solutions,function(i,r){if(s[r].support[o]&&s._validString(e[o])){var l="html"===r,u="aurora"===r;return n?(l?(s.html.video.gate=!0,s._html_setVideo(e),s.html.active=!0):(s.flash.gate=!0,s._flash_setVideo(e),s.flash.active=!0),s.css.jq.videoPlay.length&&s.css.jq.videoPlay.show(),s.status.video=!0):(l?(s.html.audio.gate=!0,s._html_setAudio(e),s.html.active=!0,t.jPlayer.platform.android&&(s.androidFix.setMedia=!0)):u?(s.aurora.gate=!0,s._aurora_setAudio(e),s.aurora.active=!0):(s.flash.gate=!0,s._flash_setAudio(e),s.flash.active=!0),s.css.jq.videoPlay.length&&s.css.jq.videoPlay.hide(),s.status.video=!1),a=!0,!1}}),a?!1:void 0}),a?(this.status.nativeVideoControls&&this.html.video.gate||this._validString(e.poster)&&(i?this.htmlElement.poster.src=e.poster:this.internal.poster.jq.show()),"string"==typeof e.title&&(this.css.jq.title.length&&this.css.jq.title.html(e.title),this.htmlElement.audio&&this.htmlElement.audio.setAttribute("title",e.title),this.htmlElement.video&&this.htmlElement.video.setAttribute("title",e.title)),this.status.srcSet=!0,this.status.media=t.extend({},e),this._updateButtons(!1),this._updateInterface(),this._trigger(t.jPlayer.event.setmedia)):this._error({type:t.jPlayer.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:t.jPlayer.errorMsg.NO_SUPPORT,hint:t.jPlayer.errorHint.NO_SUPPORT})},_resetMedia:function(){this._resetStatus(),this._updateButtons(!1),this._updateInterface(),this._seeked(),this.internal.poster.jq.hide(),clearTimeout(this.internal.htmlDlyCmdId),this.html.active?this._html_resetMedia():this.aurora.active?this._aurora_resetMedia():this.flash.active&&this._flash_resetMedia()},clearMedia:function(){this._resetMedia(),this.html.active?this._html_clearMedia():this.aurora.active?this._aurora_clearMedia():this.flash.active&&this._flash_clearMedia(),this._resetGate(),this._resetActive()},load:function(){this.status.srcSet?this.html.active?this._html_load():this.aurora.active?this._aurora_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")},focus:function(){this.options.keyEnabled&&(t.jPlayer.focus=this)},play:function(t){var e="object"==typeof t;e&&this.options.useStateClassSkin&&!this.status.paused?this.pause(t):(t="number"==typeof t?t:NaN,this.status.srcSet?(this.focus(),this.html.active?this._html_play(t):this.aurora.active?this._aurora_play(t):this.flash.active&&this._flash_play(t)):this._urlNotSetError("play"))},videoPlay:function(){this.play()},pause:function(t){t="number"==typeof t?t:NaN,this.status.srcSet?this.html.active?this._html_pause(t):this.aurora.active?this._aurora_pause(t):this.flash.active&&this._flash_pause(t):this._urlNotSetError("pause")},tellOthers:function(e,s){var a=this,i="function"==typeof s,o=Array.prototype.slice.call(arguments);"string"==typeof e&&(i&&o.splice(1,1),t.jPlayer.prototype.destroyRemoved(),t.each(this.instances,function(){a.element!==this&&(i&&!s.call(this.data("jPlayer"),a)||this.jPlayer.apply(this,o))}))},pauseOthers:function(t){this.tellOthers("pause",function(){return this.status.srcSet},t)},stop:function(){this.status.srcSet?this.html.active?this._html_pause(0):this.aurora.active?this._aurora_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(t){t=this._limitValue(t,0,100),this.status.srcSet?this.html.active?this._html_playHead(t):this.aurora.active?this._aurora_playHead(t):this.flash.active&&this._flash_playHead(t):this._urlNotSetError("playHead")},_muted:function(t){this.mutedWorker(t),this.options.globalVolume&&this.tellOthers("mutedWorker",function(){return this.options.globalVolume},t)},mutedWorker:function(e){this.options.muted=e,this.html.used&&this._html_setProperty("muted",e),this.aurora.used&&this._aurora_mute(e),this.flash.used&&this._flash_mute(e),this.html.video.gate||this.html.audio.gate||(this._updateMute(e),this._updateVolume(this.options.volume),this._trigger(t.jPlayer.event.volumechange))},mute:function(t){var s="object"==typeof t;s&&this.options.useStateClassSkin&&this.options.muted?this._muted(!1):(t=t===e?!0:!!t,this._muted(t))},unmute:function(t){t=t===e?!0:!!t,this._muted(!t)},_updateMute:function(t){t===e&&(t=this.options.muted),t?this.addStateClass("muted"):this.removeStateClass("muted"),this.css.jq.mute.length&&this.css.jq.unmute.length&&(this.status.noVolume?(this.css.jq.mute.hide(),this.css.jq.unmute.hide()):t?(this.css.jq.mute.hide(),this.css.jq.unmute.show()):(this.css.jq.mute.show(),this.css.jq.unmute.hide()))},volume:function(t){this.volumeWorker(t),this.options.globalVolume&&this.tellOthers("volumeWorker",function(){return this.options.globalVolume},t)},volumeWorker:function(e){e=this._limitValue(e,0,1),this.options.volume=e,this.html.used&&this._html_setProperty("volume",e),this.aurora.used&&this._aurora_volume(e),this.flash.used&&this._flash_volume(e),this.html.video.gate||this.html.audio.gate||(this._updateVolume(e),this._trigger(t.jPlayer.event.volumechange))},volumeBar:function(e){if(this.css.jq.volumeBar.length){var s=t(e.currentTarget),a=s.offset(),i=e.pageX-a.left,o=s.width(),n=s.height()-e.pageY+a.top,r=s.height();this.options.verticalVolume?this.volume(n/r):this.volume(i/o)}this.options.muted&&this._muted(!1)},_updateVolume:function(t){t===e&&(t=this.options.volume),t=this.options.muted?0:t,this.status.noVolume?(this.addStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.hide(),this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.hide(),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.hide()):(this.removeStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.show(),this.css.jq.volumeBarValue.length&&(this.css.jq.volumeBarValue.show(),this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"](100*t+"%")),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.show())},volumeMax:function(){this.volume(1),this.options.muted&&this._muted(!1)},_cssSelectorAncestor:function(e){var s=this;this.options.cssSelectorAncestor=e,this._removeUiClass(),this.ancestorJq=e?t(e):[],e&&1!==this.ancestorJq.length&&this._warning({type:t.jPlayer.warning.CSS_SELECTOR_COUNT,context:e,message:t.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:t.jPlayer.warningHint.CSS_SELECTOR_COUNT}),this._addUiClass(),t.each(this.options.cssSelector,function(t,e){s._cssSelector(t,e)}),this._updateInterface(),this._updateButtons(),this._updateAutohide(),this._updateVolume(),this._updateMute()},_cssSelector:function(e,s){var a=this;if("string"==typeof s)if(t.jPlayer.prototype.options.cssSelector[e]){if(this.css.jq[e]&&this.css.jq[e].length&&this.css.jq[e].unbind(".jPlayer"),this.options.cssSelector[e]=s,this.css.cs[e]=this.options.cssSelectorAncestor+" "+s,s?this.css.jq[e]=t(this.css.cs[e]):this.css.jq[e]=[],this.css.jq[e].length&&this[e]){var i=function(s){s.preventDefault(),a[e](s),a.options.autoBlur?t(this).blur():t(this).focus()};this.css.jq[e].bind("click.jPlayer",i)}s&&1!==this.css.jq[e].length&&this._warning({type:t.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[e],message:t.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[e].length+" found for "+e+" method.",hint:t.jPlayer.warningHint.CSS_SELECTOR_COUNT})}else this._warning({type:t.jPlayer.warning.CSS_SELECTOR_METHOD,context:e,message:t.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:t.jPlayer.warningHint.CSS_SELECTOR_METHOD});else this._warning({type:t.jPlayer.warning.CSS_SELECTOR_STRING,context:s,message:t.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:t.jPlayer.warningHint.CSS_SELECTOR_STRING})},duration:function(t){this.options.toggleDuration&&(this.options.captureDuration&&t.stopPropagation(),this._setOption("remainingDuration",!this.options.remainingDuration))},seekBar:function(e){if(this.css.jq.seekBar.length){var s=t(e.currentTarget),a=s.offset(),i=e.pageX-a.left,o=s.width(),n=100*i/o;this.playHead(n)}},playbackRate:function(t){this._setOption("playbackRate",t)},playbackRateBar:function(e){if(this.css.jq.playbackRateBar.length){var s,a,i=t(e.currentTarget),o=i.offset(),n=e.pageX-o.left,r=i.width(),l=i.height()-e.pageY+o.top,u=i.height();s=this.options.verticalPlaybackRate?l/u:n/r,a=s*(this.options.maxPlaybackRate-this.options.minPlaybackRate)+this.options.minPlaybackRate,this.playbackRate(a)}},_updatePlaybackRate:function(){var t=this.options.playbackRate,e=(t-this.options.minPlaybackRate)/(this.options.maxPlaybackRate-this.options.minPlaybackRate);this.status.playbackRateEnabled?(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.show(),this.css.jq.playbackRateBarValue.length&&(this.css.jq.playbackRateBarValue.show(),this.css.jq.playbackRateBarValue[this.options.verticalPlaybackRate?"height":"width"](100*e+"%"))):(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.hide(),this.css.jq.playbackRateBarValue.length&&this.css.jq.playbackRateBarValue.hide())},repeat:function(t){var e="object"==typeof t;e&&this.options.useStateClassSkin&&this.options.loop?this._loop(!1):this._loop(!0)},repeatOff:function(){this._loop(!1)},_loop:function(e){this.options.loop!==e&&(this.options.loop=e,this._updateButtons(),this._trigger(t.jPlayer.event.repeat))},option:function(s,a){var i=s;if(0===arguments.length)return t.extend(!0,{},this.options);if("string"==typeof s){var o=s.split(".");if(a===e){for(var n=t.extend(!0,{},this.options),r=0;r<o.length;r++){if(n[o[r]]===e)return this._warning({type:t.jPlayer.warning.OPTION_KEY,context:s,message:t.jPlayer.warningMsg.OPTION_KEY,hint:t.jPlayer.warningHint.OPTION_KEY}),e;n=n[o[r]]}return n}i={};for(var l=i,u=0;u<o.length;u++)u<o.length-1?(l[o[u]]={},l=l[o[u]]):l[o[u]]=a}return this._setOptions(i),this},_setOptions:function(e){var s=this;return t.each(e,function(t,e){s._setOption(t,e)}),this},_setOption:function(e,s){var a=this;switch(e){case"volume":this.volume(s);break;case"muted":this._muted(s);break;case"globalVolume":this.options[e]=s;break;case"cssSelectorAncestor":this._cssSelectorAncestor(s);break;case"cssSelector":t.each(s,function(t,e){a._cssSelector(t,e)});break;case"playbackRate":this.options[e]=s=this._limitValue(s,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("playbackRate",s),this._updatePlaybackRate();break;case"defaultPlaybackRate":this.options[e]=s=this._limitValue(s,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("defaultPlaybackRate",s),this._updatePlaybackRate();break;case"minPlaybackRate":this.options[e]=s=this._limitValue(s,.1,this.options.maxPlaybackRate-.1),this._updatePlaybackRate();break;case"maxPlaybackRate":this.options[e]=s=this._limitValue(s,this.options.minPlaybackRate+.1,16),this._updatePlaybackRate();break;case"fullScreen":if(this.options[e]!==s){var i=t.jPlayer.nativeFeatures.fullscreen.used.webkitVideo;(!i||i&&!this.status.waitForPlay)&&(i||(this.options[e]=s),s?this._requestFullscreen():this._exitFullscreen(),i||this._setOption("fullWindow",s))}break;case"fullWindow":this.options[e]!==s&&(this._removeUiClass(),this.options[e]=s,this._refreshSize());break;case"size":this.options.fullWindow||this.options[e].cssClass===s.cssClass||this._removeUiClass(),this.options[e]=t.extend({},this.options[e],s),this._refreshSize();break;case"sizeFull":this.options.fullWindow&&this.options[e].cssClass!==s.cssClass&&this._removeUiClass(),this.options[e]=t.extend({},this.options[e],s),this._refreshSize();break;case"autohide":this.options[e]=t.extend({},this.options[e],s),this._updateAutohide();break;case"loop":this._loop(s);break;case"remainingDuration":this.options[e]=s,this._updateInterface();break;case"toggleDuration":this.options[e]=s;break;case"nativeVideoControls":this.options[e]=t.extend({},this.options[e],s),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this._restrictNativeVideoControls(),this._updateNativeVideoControls();break;case"noFullWindow":this.options[e]=t.extend({},this.options[e],s),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this._restrictNativeVideoControls(),this._updateButtons();break;case"noVolume":this.options[e]=t.extend({},this.options[e],s),this.status.noVolume=this._uaBlocklist(this.options.noVolume),this._updateVolume(),this._updateMute();break;case"emulateHtml":this.options[e]!==s&&(this.options[e]=s,s?this._emulateHtmlBridge():this._destroyHtmlBridge());break;case"timeFormat":this.options[e]=t.extend({},this.options[e],s);break;case"keyEnabled":this.options[e]=s,s||this!==t.jPlayer.focus||(t.jPlayer.focus=null);break;case"keyBindings":this.options[e]=t.extend(!0,{},this.options[e],s);break;case"audioFullScreen":this.options[e]=s;break;case"autoBlur":this.options[e]=s}return this},_refreshSize:function(){this._setSize(),this._addUiClass(),this._updateSize(),this._updateButtons(),this._updateAutohide(),this._trigger(t.jPlayer.event.resize)},_setSize:function(){this.options.fullWindow?(this.status.width=this.options.sizeFull.width,this.status.height=this.options.sizeFull.height,this.status.cssClass=this.options.sizeFull.cssClass):(this.status.width=this.options.size.width,this.status.height=this.options.size.height,this.status.cssClass=this.options.size.cssClass),this.element.css({width:this.status.width,height:this.status.height})},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)},_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):!this.status.waitForPlay&&this.flash.active&&this.status.video&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height})},_updateAutohide:function(){var t=this,e="mousemove.jPlayer",s=".jPlayerAutohide",a=e+s,i=function(e){var s,a,i=!1;"undefined"!=typeof t.internal.mouse?(s=t.internal.mouse.x-e.pageX,a=t.internal.mouse.y-e.pageY,i=Math.floor(s)>0||Math.floor(a)>0):i=!0,t.internal.mouse={x:e.pageX,y:e.pageY},i&&t.css.jq.gui.fadeIn(t.options.autohide.fadeIn,function(){clearTimeout(t.internal.autohideId),t.internal.autohideId=setTimeout(function(){t.css.jq.gui.fadeOut(t.options.autohide.fadeOut)},t.options.autohide.hold)})};this.css.jq.gui.length&&(this.css.jq.gui.stop(!0,!0),clearTimeout(this.internal.autohideId),delete this.internal.mouse,this.element.unbind(s),this.css.jq.gui.unbind(s),this.status.nativeVideoControls?this.css.jq.gui.hide():this.options.fullWindow&&this.options.autohide.full||!this.options.fullWindow&&this.options.autohide.restored?(this.element.bind(a,i),this.css.jq.gui.bind(a,i),this.css.jq.gui.hide()):this.css.jq.gui.show())},fullScreen:function(t){var e="object"==typeof t;e&&this.options.useStateClassSkin&&this.options.fullScreen?this._setOption("fullScreen",!1):this._setOption("fullScreen",!0)},restoreScreen:function(){this._setOption("fullScreen",!1)},_fullscreenAddEventListeners:function(){var e=this,s=t.jPlayer.nativeFeatures.fullscreen;s.api.fullscreenEnabled&&s.event.fullscreenchange&&("function"!=typeof this.internal.fullscreenchangeHandler&&(this.internal.fullscreenchangeHandler=function(){e._fullscreenchange()}),document.addEventListener(s.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1))},_fullscreenRemoveEventListeners:function(){var e=t.jPlayer.nativeFeatures.fullscreen;this.internal.fullscreenchangeHandler&&document.removeEventListener(e.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1)},_fullscreenchange:function(){this.options.fullScreen&&!t.jPlayer.nativeFeatures.fullscreen.api.fullscreenElement()&&this._setOption("fullScreen",!1)},_requestFullscreen:function(){var e=this.ancestorJq.length?this.ancestorJq[0]:this.element[0],s=t.jPlayer.nativeFeatures.fullscreen;s.used.webkitVideo&&(e=this.htmlElement.video),s.api.fullscreenEnabled&&s.api.requestFullscreen(e)},_exitFullscreen:function(){var e,s=t.jPlayer.nativeFeatures.fullscreen;s.used.webkitVideo&&(e=this.htmlElement.video),s.api.fullscreenEnabled&&s.api.exitFullscreen(e)},_html_initMedia:function(e){var s=t(this.htmlElement.media).empty();t.each(e.track||[],function(t,e){var a=document.createElement("track");a.setAttribute("kind",e.kind?e.kind:""),a.setAttribute("src",e.src?e.src:""),a.setAttribute("srclang",e.srclang?e.srclang:""),a.setAttribute("label",e.label?e.label:""),e.def&&a.setAttribute("default",e.def),s.append(a)}),this.htmlElement.media.src=this.status.src,"none"!==this.options.preload&&this._html_load(),this._trigger(t.jPlayer.event.timeupdate)},_html_setFormat:function(e){var s=this;t.each(this.formats,function(t,a){return s.html.support[a]&&e[a]?(s.status.src=e[a],s.status.format[a]=!0,s.status.formatType=a,!1):void 0})},_html_setAudio:function(t){this._html_setFormat(t),this.htmlElement.media=this.htmlElement.audio,this._html_initMedia(t)},_html_setVideo:function(t){this._html_setFormat(t),this.status.nativeVideoControls&&(this.htmlElement.video.poster=this._validString(t.poster)?t.poster:""),this.htmlElement.media=this.htmlElement.video,this._html_initMedia(t)},_html_resetMedia:function(){this.htmlElement.media&&(this.htmlElement.media.id!==this.internal.video.id||this.status.nativeVideoControls||this.internal.video.jq.css({
width:"0px",height:"0px"}),this.htmlElement.media.pause())},_html_clearMedia:function(){this.htmlElement.media&&(this.htmlElement.media.src="about:blank",this.htmlElement.media.load())},_html_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.htmlElement.media.load()),clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(t){var e=this,s=this.htmlElement.media;if(this.androidFix.pause=!1,this._html_load(),this.androidFix.setMedia)this.androidFix.play=!0,this.androidFix.time=t;else if(isNaN(t))s.play();else{this.internal.cmdsIgnored&&s.play();try{if(s.seekable&&!("object"==typeof s.seekable&&s.seekable.length>0))throw 1;s.currentTime=t,s.play()}catch(a){return void(this.internal.htmlDlyCmdId=setTimeout(function(){e.play(t)},250))}}this._html_checkWaitForPlay()},_html_pause:function(t){var e=this,s=this.htmlElement.media;if(this.androidFix.play=!1,t>0?this._html_load():clearTimeout(this.internal.htmlDlyCmdId),s.pause(),this.androidFix.setMedia)this.androidFix.pause=!0,this.androidFix.time=t;else if(!isNaN(t))try{if(s.seekable&&!("object"==typeof s.seekable&&s.seekable.length>0))throw 1;s.currentTime=t}catch(a){return void(this.internal.htmlDlyCmdId=setTimeout(function(){e.pause(t)},250))}t>0&&this._html_checkWaitForPlay()},_html_playHead:function(t){var e=this,s=this.htmlElement.media;this._html_load();try{if("object"==typeof s.seekable&&s.seekable.length>0)s.currentTime=t*s.seekable.end(s.seekable.length-1)/100;else{if(!(s.duration>0)||isNaN(s.duration))throw"e";s.currentTime=t*s.duration/100}}catch(a){return void(this.internal.htmlDlyCmdId=setTimeout(function(){e.playHead(t)},250))}this.status.waitForLoad||this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})))},_html_setProperty:function(t,e){this.html.audio.available&&(this.htmlElement.audio[t]=e),this.html.video.available&&(this.htmlElement.video[t]=e)},_aurora_setAudio:function(e){var s=this;t.each(this.formats,function(t,a){return s.aurora.support[a]&&e[a]?(s.status.src=e[a],s.status.format[a]=!0,s.status.formatType=a,!1):void 0}),this.aurora.player=new AV.Player.fromURL(this.status.src),this._addAuroraEventListeners(this.aurora.player,this.aurora),"auto"===this.options.preload&&(this._aurora_load(),this.status.waitForLoad=!1)},_aurora_resetMedia:function(){this.aurora.player&&this.aurora.player.stop()},_aurora_clearMedia:function(){},_aurora_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.aurora.player.preload())},_aurora_play:function(e){this.status.waitForLoad||isNaN(e)||this.aurora.player.seek(e),this.aurora.player.playing||this.aurora.player.play(),this.status.waitForLoad=!1,this._aurora_checkWaitForPlay(),this._updateButtons(!0),this._trigger(t.jPlayer.event.play)},_aurora_pause:function(e){isNaN(e)||this.aurora.player.seek(1e3*e),this.aurora.player.pause(),e>0&&this._aurora_checkWaitForPlay(),this._updateButtons(!1),this._trigger(t.jPlayer.event.pause)},_aurora_playHead:function(t){this.aurora.player.duration>0&&this.aurora.player.seek(t*this.aurora.player.duration/100),this.status.waitForLoad||this._aurora_checkWaitForPlay()},_aurora_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1)},_aurora_volume:function(t){this.aurora.player.volume=100*t},_aurora_mute:function(t){t?(this.aurora.properties.lastvolume=this.aurora.player.volume,this.aurora.player.volume=0):this.aurora.player.volume=this.aurora.properties.lastvolume,this.aurora.properties.muted=t},_flash_setAudio:function(e){var s=this;try{t.each(this.formats,function(t,a){if(s.flash.support[a]&&e[a]){switch(a){case"m4a":case"fla":s._getMovie().fl_setAudio_m4a(e[a]);break;case"mp3":s._getMovie().fl_setAudio_mp3(e[a]);break;case"rtmpa":s._getMovie().fl_setAudio_rtmp(e[a])}return s.status.src=e[a],s.status.format[a]=!0,s.status.formatType=a,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(a){this._flashError(a)}},_flash_setVideo:function(e){var s=this;try{t.each(this.formats,function(t,a){if(s.flash.support[a]&&e[a]){switch(a){case"m4v":case"flv":s._getMovie().fl_setVideo_m4v(e[a]);break;case"rtmpv":s._getMovie().fl_setVideo_rtmp(e[a])}return s.status.src=e[a],s.status.format[a]=!0,s.status.formatType=a,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(a){this._flashError(a)}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",height:"0px"}),this._flash_pause(NaN)},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()}catch(t){this._flashError(t)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(t){this._flashError(t)}this.status.waitForLoad=!1},_flash_play:function(t){try{this._getMovie().fl_play(t)}catch(e){this._flashError(e)}this.status.waitForLoad=!1,this._flash_checkWaitForPlay()},_flash_pause:function(t){try{this._getMovie().fl_pause(t)}catch(e){this._flashError(e)}t>0&&(this.status.waitForLoad=!1,this._flash_checkWaitForPlay())},_flash_playHead:function(t){try{this._getMovie().fl_play_head(t)}catch(e){this._flashError(e)}this.status.waitForLoad||this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.flash.jq.css({width:this.status.width,height:this.status.height})))},_flash_volume:function(t){try{this._getMovie().fl_volume(t)}catch(e){this._flashError(e)}},_flash_mute:function(t){try{this._getMovie().fl_mute(t)}catch(e){this._flashError(e)}},_getMovie:function(){return document[this.internal.flash.id]},_getFlashPluginVersion:function(){var t,e=0;if(window.ActiveXObject)try{if(t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")){var s=t.GetVariable("$version");s&&(s=s.split(" ")[1].split(","),e=parseInt(s[0],10)+"."+parseInt(s[1],10))}}catch(a){}else navigator.plugins&&navigator.mimeTypes.length>0&&(t=navigator.plugins["Shockwave Flash"],t&&(e=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1")));return 1*e},_checkForFlash:function(t){var e=!1;return this._getFlashPluginVersion()>=t&&(e=!0),e},_validString:function(t){return t&&"string"==typeof t},_limitValue:function(t,e,s){return e>t?e:t>s?s:t},_urlNotSetError:function(e){this._error({type:t.jPlayer.error.URL_NOT_SET,context:e,message:t.jPlayer.errorMsg.URL_NOT_SET,hint:t.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(e){var s;s=this.internal.ready?"FLASH_DISABLED":"FLASH",this._error({type:t.jPlayer.error[s],context:this.internal.flash.swf,message:t.jPlayer.errorMsg[s]+e.message,hint:t.jPlayer.errorHint[s]}),this.internal.flash.jq.css({width:"1px",height:"1px"})},_error:function(e){this._trigger(t.jPlayer.event.error,e),this.options.errorAlerts&&this._alert("Error!"+(e.message?"\n"+e.message:"")+(e.hint?"\n"+e.hint:"")+"\nContext: "+e.context)},_warning:function(s){this._trigger(t.jPlayer.event.warning,e,s),this.options.warningAlerts&&this._alert("Warning!"+(s.message?"\n"+s.message:"")+(s.hint?"\n"+s.hint:"")+"\nContext: "+s.context)},_alert:function(t){var e="jPlayer "+this.version.script+" : id='"+this.internal.self.id+"' : "+t;this.options.consoleAlerts?window.console&&window.console.log&&window.console.log(e):alert(e)},_emulateHtmlBridge:function(){var e=this;t.each(t.jPlayer.emulateMethods.split(/\s+/g),function(t,s){e.internal.domNode[s]=function(t){e[s](t)}}),t.each(t.jPlayer.event,function(s,a){var i=!0;t.each(t.jPlayer.reservedEvent.split(/\s+/g),function(t,e){return e===s?(i=!1,!1):void 0}),i&&e.element.bind(a+".jPlayer.jPlayerHtml",function(){e._emulateHtmlUpdate();var t=document.createEvent("Event");t.initEvent(s,!1,!0),e.internal.domNode.dispatchEvent(t)})})},_emulateHtmlUpdate:function(){var e=this;t.each(t.jPlayer.emulateStatus.split(/\s+/g),function(t,s){e.internal.domNode[s]=e.status[s]}),t.each(t.jPlayer.emulateOptions.split(/\s+/g),function(t,s){e.internal.domNode[s]=e.options[s]})},_destroyHtmlBridge:function(){var e=this;this.element.unbind(".jPlayerHtml");var s=t.jPlayer.emulateMethods+" "+t.jPlayer.emulateStatus+" "+t.jPlayer.emulateOptions;t.each(s.split(/\s+/g),function(t,s){delete e.internal.domNode[s]})}},t.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"},t.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+t.jPlayer.prototype.version.script+" needs Jplayer.swf version "+t.jPlayer.prototype.version.needFlash+" but found "},t.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."},t.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"},t.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer('option') is undefined."},t.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}})},282:function(t,e,s){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function i(t){this.initializeAsComponent(t);var e=f.streamId=this.dataset.gigyaId,s=this.dataset.categoryId||f.categoryId;f.isFirstTime=this.dataset.isFirstTime;var a=f.options={includeStreamInfo:!0,includeUID:!0,threadLimit:1,threadDepth:1};this.$commentsList=c["default"].activateAll(),this.$commentsPost=p["default"].activateAll(),this.getComments(s,e,a).done(function(t){v.resolve(t)})}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o=s(2),n=a(o),r=s(135),l=a(r),u=s(283),d=a(u),h=s(284),c=a(h),m=s(288),p=a(m),f={categoryId:"Conversations"},v=n["default"].Deferred();i.prototype={getComments:function(t,e,s){return d["default"].getComments(t,e,s)},updateCommentCount:function(t,e,s,a){var i=t.streamInfo.commentCount=e?a-1:a+1;(0,n["default"])(s).html(i),(0,n["default"])("body").trigger("update:comment",t)}},(0,l["default"])(i,"article-comments"),i.commentPromise=v,i.commentServiceDefaults=f,i.getComments=i.prototype.getComments,i.updateCommentCount=i.prototype.updateCommentCount,t.exports=e["default"]},283:function(t,e,s){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function i(){var t=f["default"].getCache("user")?f["default"].getCache("user").id:u["default"].isAuthenticated()?u["default"].getId():null;return t}function o(t,e){var s=t;return e&&(s=(0,h["default"])(t,e)),(0,h["default"])(v,s)}var n=s(2),r=a(n),l=s(112),u=a(l),d=s(99),h=a(d),c=s(218),m=a(c),p=s(109),f=a(p),v={};e.getComments=function(t,e,s){var a=r["default"].Deferred(),n=o({categoryID:t,streamID:e,callback:function(t){if(0!==t.errorCode)throw a.reject(),new Error(t.errorCode+": "+t.errorMessage);t.currentUserId=i(),a.resolve(t)}},s);return gigya.comments.getComments(n),a.promise()},e.postComment=function(t,e,s,a,n){var l=r["default"].Deferred(),u=i()||a;if(u){var d=o({categoryID:t,commentText:e,streamID:s,UID:u,callback:function(t){if(0!==t.errorCode)throw l.reject(t),new Error(t.errorCode+": "+t.errorMessage);l.resolve(t)}},n);gigya.comments.postComment(d)}else l.reject({errorCode:401,errorMessage:"Must be logged in, on order to be able to post a comment"});return l.promise()},e.voteComment=function(t,e,s,a,n){var l=r["default"].Deferred(),u=i();if(!u)throw l.reject(),new Error("must be logged in, in order to vote on a comment");var d=o({commentID:t,categoryID:e,streamID:s,vote:a,callback:function(t){if(0!==t.errorCode)throw l.reject(),new Error(t.errorCode+": "+t.errorMessage);l.resolve(t)}},n);return gigya.comments.vote(d),l.promise()},e.deleteComment=function(t,e,s,a){var n=r["default"].Deferred(),l=i();if(!l)throw n.reject(),new Error("must be logged in, in order to delete a comment");var u=o({UID:t,categoryID:e,streamID:s,commentID:a,callback:function(t){if(0!==t.errorCode)throw n.reject(),new Error(t.errorCode+": "+t.errorMessage);n.resolve(t)}});return gigya.comments.deleteComment(u),n.promise()},e.validateUserForComment=function(t,e,s){return u["default"].isAuthenticated()?!0:((0,r["default"])(e).attr("disabled","disabled"),m["default"].activate((0,r["default"])(e)).show(t),s.then(function(t){(0,r["default"])(e).removeAttr("disabled")}),!1)},e.setStreamInfo=function(t,e,s,a){var i=r["default"].Deferred(),o={categoryID:t,streamID:e,streamTitle:a,streamURL:s,callback:function(t){if(0!==t.errorCode)throw i.reject(),new Error(t.errorCode+": "+t.errorMessage);i.resolve(t)}};return gigya.comments.setStreamInfo(o),i.promise()}},284:function(t,e,s){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function i(t){this.initializeAsComponent(t),o=this;var e=this.$articleComments=s(282);e.commentPromise.done(function(t){var s=o.$commentAccessObject={totalThreadCount:t.streamInfo.threadCount,threadCount:t.threadCount,next:t.next,isFirstTime:e.commentServiceDefaults.isFirstTime,currentUserId:t.currentUserId,streamId:e.commentServiceDefaults.streamId,categoryId:e.commentServiceDefaults.categoryId};if("undefined"==typeof t.streamInfo.streamURL&&"hbr.org"===window.location.hostname){var a=(0,r["default"])("meta[property='og:url']").attr("content"),i=(0,r["default"])("meta[name='item-name']").attr("content");_["default"].setStreamInfo(s.categoryId,s.streamId,a,i).then(function(t){})}o.render(t.comments,t.streamInfo.commentCount,s,!1)})}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o,n=s(2),r=a(n),l=s(22),u=a(l),d=s(99),h=a(d),c=s(135),m=a(c),p=s(134),f=a(p),v=s(283),_=a(v),y=s(285),g=a(y),b=s(286),j=a(b),P=s(287),w=a(P);i.prototype={events:{"click [js-target='comment-reply']":"replyComment","click [js-target='comment-vote']":"voteComment","click [js-target='comment-load-more']":"loadMoreComments","click [js-target='comment-join-conversation']":"loadComments","click [js-target='comment-delete']":"deleteComment"},replyComment:function(t){if(t.preventDefault(),t.stopPropagation(),_["default"].validateUserForComment(t,(0,r["default"])(t.currentTarget),f["default"].signInPromise)){var e=(0,r["default"])(t.currentTarget).closest(".comment-footer");if(e.siblings(".comment-reply-post").length>0)return!1;var s=(0,r["default"])(e).closest("li"),a=(0,r["default"])(s).data().commentId,i=(0,r["default"])(e).closest("article-comments-list");(0,r["default"])(i).find(".comment-reply-post").filter(function(){return(0,r["default"])(this).slideUp("750").delay("500").remove()});var o=this.$articleComments.commentServiceDefaults.streamId;(0,r["default"])(e).after("<div class='comment-reply-post'></div>"),(0,r["default"])(e).siblings(".comment-reply-post").data("parent-id",a).hide().html((0,w["default"])({streamId:o})).slideDown("750").find("textarea").focus()}},render:function(t,e,s,a){var i=(0,g["default"])({comments:t,commentCount:e,moment:u["default"],commentReply:j["default"],commentAccessObject:s,removeEmail:C});a?this.$el.html(i):this.$el.append(i)},renderCommentHtml:function(t){var e=r["default"].isArray(t)?t:[t];return(0,j["default"])({commentReply:j["default"],comments:e,moment:u["default"],removeEmail:C,commentAccessObject:o.$commentAccessObject})},renderComment:function(t,e,s,a){var i=this.renderCommentHtml(t),o=(0,r["default"])("article-comments-list").find("[js-target='comments-list']");s?(0,r["default"])(o).prepend(i):(0,r["default"])(o).append(i),a&&this.updateReplyCount(e)},renderCommentInPlace:function(t,e){var s=this.renderCommentHtml(t),a=(0,r["default"])(e).siblings("ul").length>0?(0,r["default"])(e).siblings("ul"):(0,r["default"])(e).after("<ul/>").siblings("ul");(0,r["default"])(a).append(s),this.updateReplyCount(e)},updateReplyCount:function(t){var e=(0,r["default"])(t).siblings(".comment-footer").find(".reply span"),s=e.length>0?(0,r["default"])(e).data().replyCount:"0",a=parseInt(s)+1;(0,r["default"])(e).text((0,r["default"])(e).text().replace(s,a)),(0,r["default"])(e).data("replyCount",a)},loadMoreComments:function(t){var e=(0,r["default"])(t.currentTarget),s=(0,r["default"])(e).data().commentNext,a=(0,h["default"])(this.$articleComments.commentServiceDefaults.options,{start:s}),i=this;_["default"].getComments(this.$articleComments.commentServiceDefaults.categoryId,this.$articleComments.commentServiceDefaults.streamId,a).done(function(t){i.$commentAccessObject.threadCount+=t.threadCount,i.renderComment(t.comments,e,!1,!1),t.streamInfo.threadCount<=i.$commentAccessObject.threadCount?(0,r["default"])(e).closest("div").remove():(0,r["default"])(e).data().commentNext=t.next})},voteComment:function(t){t.preventDefault();var e=(0,r["default"])(t.currentTarget),s=(0,r["default"])(e).closest("li").data().commentId,a=(0,r["default"])(e).data().voteDir;_["default"].voteComment(s,this.$articleComments.commentServiceDefaults.categoryId,this.$articleComments.commentServiceDefaults.streamId,a).done(function(t){0===t.errorCode&&(0,r["default"])(e).addClass("voted").siblings().removeClass("voted")})},loadComments:function(t){var e=o.$articleComments;e.commentServiceDefaults.options.threadLimit=10,e.commentServiceDefaults.options.threadDepth=5,e.getComments(e.commentServiceDefaults.categoryId,e.commentServiceDefaults.streamId,e.commentServiceDefaults.options).then(function(t){o.$commentAccessObject.isFirstTime=!1,o.$commentAccessObject.totalThreadCount=t.streamInfo.threadCount,o.$commentAccessObject.threadCount=t.threadCount,o.$commentAccessObject.next=t.next,o.render(t.comments,t.streamInfo.commentCount,o.$commentAccessObject,!0)})},deleteComment:function(t){t.preventDefault();var e=(0,r["default"])(t.currentTarget),s=e.closest("li"),a=s.data(),i=this;_["default"].deleteComment(a.commentUid,a.commentCategoryId,a.commentStreamId,a.commentId).then(function(t){var e=(0,r["default"])("[js-target='comment-count']"),a=parseInt((0,r["default"])(e).html()),n={streamInfo:{commentCount:0}};(0,r["default"])(s).remove(),i.$articleComments.updateCommentCount(n,!0,e,a),i.$commentAccessObject.isFirstTime&&a>1&&i.$articleComments.getComments(i.$commentAccessObject.categoryId,i.$commentAccessObject.streamId,i.$articleComments.commentServiceDefaults).then(function(t){o.render(t.comments,t.streamInfo.commentCount,i.$commentAccessObject,!0)})})}};var C=function(t){var e=t.split(" "),s=new RegExp(/[^\s@]+@[^\s@]+\.[^\s@]+/),a=e.filter(function(t){return!s.test(t)});return a.join(" ")};(0,m["default"])(i,"article-comments-list"),i.renderComment=i.prototype.renderComment,i.renderCommentInPlace=i.prototype.renderCommentInPlace,i.renderCommentHtml=i.prototype.renderCommentHtml,i.updateReplyCount=i.prototype.updateReplyCount,t.exports=e["default"]},285:function(module,exports,__webpack_require__){(function(moment){module.exports=function(obj){obj||(obj={});var __t,__p="";Array.prototype.join;with(obj)__p+='<div class="content-area--article column">\n	<div class="text-gray slug--small"><span js-target="comment-count">'+(null==(__t=commentCount)?"":__t)+'</span> COMMENTS</div>\n	<hr class="mts mbl">\n	<ul class="comments-list" js-target="comments-list">\n		',comments.forEach(function(t){__p+='\n		<li data-comment-id="'+(null==(__t=t.ID)?"":__t)+'" data-comment-uid="'+(null==(__t=t.sender.UID)?"":__t)+'" data-comment-stream-id="'+(null==(__t=commentAccessObject.streamId)?"":__t)+'" data-comment-category-id="'+(null==(__t=commentAccessObject.categoryId)?"":__t)+'">\n			<h5>\n				'+(null==(__t=removeEmail(t.sender.name))?"":__t)+'  <small js-target="timeago">'+(null==(__t=moment(t.timestamp).fromNow())?"":__t)+'</small>\n			</h5>\n			<p class="comment-text">'+(null==(__t=t.commentText)?"":__t)+'</p>\n			<div class="comment-footer mbl clearfix">\n				<div class="left reply">\n					<a href="#" js-target="comment-reply" class="alt-action">Reply</a> \n					',commentAccessObject.currentUserId!==t.sender.UID||t.replies||(__p+='\n					| <a href="#" js-target="comment-delete" class="alt-action">Delete</a>\n					'),__p+="\n					",t.replies&&!commentAccessObject.isFirstTime&&(__p+='\n						<span data-reply-count="'+(null==(__t=t.replies.length)?"":__t)+'">| '+(null==(__t=t.replies.length)?"":__t)+" ",__p+=1==t.replies.length?" reply ":" replies ",__p+=" </span>\n					"),__p+='\n				</div>\n				<div class="right vote">\n					<span class="vote-up" js-target="comment-vote" data-vote-dir="pos" data-pos-vote-count="'+(null==(__t=t.posVotes)?"":__t)+'">',t.posVotes>=0&&(__p+=" "+(null==(__t=t.posVotes)?"":__t)+" "),__p+=' <i class="icon icon-thumbs-up"></i></span>\n					<span class="vote-down" js-target="comment-vote"  data-vote-dir="neg" data-neg-vote-count="'+(null==(__t=t.negVotes)?"":__t)+'">',t.negVotes>=0&&(__p+=" "+(null==(__t=t.negVotes)?"":__t)+" "),__p+=' <i class="icon icon-thumbs-down"></i></span>\n				</div>\n			</div>\n			',t.replies&&!commentAccessObject.isFirstTime&&(__p+="\n			<!-- if 1 or more replies -->\n			<ul>\n				"+(null==(__t=commentReply({comments:t.replies,commentReply:commentReply,removeEmail:removeEmail,commentAccessObject:commentAccessObject}))?"":__t)+"\n			</ul>\n			"),__p+="\n		</li>\n		"}),__p+="\n	</ul>\n	",commentAccessObject.totalThreadCount>commentAccessObject.threadCount&&!commentAccessObject.isFirstTime&&(__p+='\n	<div class="column small-12 text-center mvm">\n		<a class="load-ten-more" js-target="comment-load-more" data-comment-next="'+(null==(__t=commentAccessObject.next)?"":__t)+'"><i class="icon icon-load-more"></i> <strong>View more comments</strong></a>\n	</div>\n	'),__p+="\n	",commentAccessObject.isFirstTime&&(__p+='\n	<div class="column small-12 text-center mtn mbl">\n		<a class="load-ten-more" js-target="comment-join-conversation" data-comment-next="'+(null==(__t=commentAccessObject.next)?"":__t)+'"><i class="icon icon-load-more"></i> <strong>Join the conversation</strong></a>\n	</div>\n	'),__p+='\n	<hr/>\n	<div class="text-gray slug--small">Posting Guidelines</div>\n	<div class="text-gray">\n		<p class="disclaimer mbl">We hope the conversations that take place on HBR.org will be energetic, constructive, and thought-provoking. To comment, readers must <a href="/sign-in" js-target="show-sign-in">sign in</a> or <a href="/register">register</a>. And to ensure the quality of the discussion, our moderating team will review all comments and may edit them for clarity, length, and relevance. Comments that are overly promotional, mean-spirited, or off-topic may be deleted per the moderators\' judgment. All postings become the property of Harvard Business Publishing. </p>\n	</div>\n</div>\n';return __p}}).call(exports,__webpack_require__(22))},286:function(module,exports,__webpack_require__){(function(moment){module.exports=function(obj){obj||(obj={});var __t,__p="";Array.prototype.join;with(obj)comments.forEach(function(t){__p+='\n<li data-comment-id="'+(null==(__t=t.ID)?"":__t)+'" data-comment-uid="'+(null==(__t=t.sender.UID)?"":__t)+'" data-comment-stream-id="'+(null==(__t=commentAccessObject.streamId)?"":__t)+'" data-comment-category-id="'+(null==(__t=commentAccessObject.categoryId)?"":__t)+'">\n	<h5>\n		'+(null==(__t=removeEmail(t.sender.name))?"":__t)+'   <small js-target="timeago">'+(null==(__t=moment(t.timestamp).fromNow())?"":__t)+'</small>\n	</h5>\n	<p class="comment-text">'+(null==(__t=t.commentText)?"":__t)+'</p>\n	<div class="comment-footer mbl clearfix">\n		<div class="left reply">\n			<a href="#" js-target="comment-reply" class="alt-action">Reply</a>\n			',commentAccessObject.currentUserId!==t.sender.UID||t.replies||(__p+='\n			| <a href="#" js-target="comment-delete" class="alt-action">Delete</a>\n			'),__p+='\n		</div>\n		<div class="right vote">\n			<span class="vote-up" js-target="comment-vote" data-vote-dir="pos" data-pos-vote-count="'+(null==(__t=t.posVotes)?"":__t)+'">',t.posVotes>=0&&(__p+=" "+(null==(__t=t.posVotes)?"":__t)+" "),__p+=' <i class="icon icon-thumbs-up"></i></span>\n			<span class="vote-down" js-target="comment-vote"  data-vote-dir="neg" data-neg-vote-count="'+(null==(__t=t.negVotes)?"":__t)+'">',t.negVotes>=0&&(__p+=" "+(null==(__t=t.negVotes)?"":__t)+" "),__p+=' <i class="icon icon-thumbs-down"></i></span>\n		</div>\n	</div>\n	',t.replies&&(__p+="\n	<ul>\n		"+(null==(__t=commentReply({comments:t.replies,commentReply:commentReply,removeEmail:removeEmail,commentAccessObject:commentAccessObject}))?"":__t)+"\n	</ul>\n	"),__p+="\n</li>\n"}),__p+="\n";return __p}}).call(exports,__webpack_require__(22))},287:function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div js-target="comment-post-section">\n    <div js-target="loading-indicator" class="overflow-auto"></div>\n    <div js-target="comment-post-error"></div>\n    <div js-target="comment-post-form">\n        <textarea class="mbm" rows="2" cols="48" placeholder="Leave a Comment" data-stream-id="'+(null==(__t=streamId)?"":__t)+'" js-target="comment-post-text"></textarea>\n        <div class="mbn clearfix"><button class="button--black right mbn" js-target="comment-post">POST</button></div>\n    </div>\n</div>\n';return __p}},288:function(t,e,s){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function i(t){var e=this;this.initializeAsComponent(t);var a=this.$articleComments=s(282),i=this.streamId=a.commentServiceDefaults.streamId;this.categoryId=a.commentServiceDefaults.categoryId,a.commentPromise.done(function(t){e.render(i),e.commentObject=t})}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o=s(284),n=a(o),r=s(2),l=a(r),u=s(135),d=a(u),h=s(112),c=a(h),m=s(283),p=a(m),f=s(289),v=a(f),_=s(287),y=a(_),g=s(290),b=a(g),j=s(291),P=a(j),w=s(134),C=a(w);i.prototype={globalEvents:{"click [js-target='comment-post']":"postComment","click [js-target='comment-post-text']":"validateUserForComment"},postComment:function(t){t.preventDefault();var e,s=this,a=(0,l["default"])(t.currentTarget),i=(0,l["default"])(a).closest(".comment-reply-post"),o=i.find("textarea"),r=this.categoryId,u=o.val().replace(/(?:\r\n|\r|\n)/g,"<br/>"),d=o.data().streamId,h=(0,l["default"])(i).data().parentId,m=(0,l["default"])(a).closest("[js-target='comment-post-section']"),f={};if(h&&(f.parentID=h),c["default"].isAuthenticated()){var v=m.find("[js-target='loading-indicator']");v.html((0,b["default"])()).show();var _=m.find("[js-target='comment-post-form']");_.hide(),p["default"].postComment(r,u,d,e,f).then(function(t){v.hide();var e=t.requestParams.UID;t.comment.sender.UID=e,h?(n["default"].renderCommentInPlace(t.comment,i),o.val(""),s.removePostComment(i)):(n["default"].renderComment(t.comment,i,!0,!0),_.show(),o.val("")),s.updateCommentCount()},function(e){v.hide(),_.show(),e&&401===e.errorCode?p["default"].validateUserForComment(t,a,C["default"].signInPromise):(m.find("[js-target='comment-post-error']").replaceWith((0,P["default"])({errorCode:e.errorCode})),_.find("[js-target='comment-post']").attr("disabled","disabled"))})}else p["default"].validateUserForComment(t,a,C["default"].signInPromise)},validateUserForComment:function(t){t.preventDefault(),t.stopImmediatePropagation();var e=(0,l["default"])(t.currentTarget);p["default"].validateUserForComment(t,e,C["default"].signInPromise)},render:function(t){this.$el.append((0,v["default"])({commentPost:y["default"],streamId:t}))},removePostComment:function(t){(0,l["default"])(t).slideUp("500").remove()},updateCommentCount:function(){var t=(0,l["default"])("[js-target='comment-count']"),e=parseInt((0,l["default"])(t).html());this.$articleComments.updateCommentCount(this.commentObject,!1,t,e)}},(0,d["default"])(i,"article-comments-post"),t.exports=e["default"]},289:function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="row mvl">\n	<div class="content-area--article column comment-reply-post">\n		<h3 class="text-gray font-weight-normal mbm">Comments</h3>\n		'+(null==(__t=commentPost({streamId:streamId}))?"":__t)+"\n	</div>\n</div>\n";return __p}},290:function(module,exports){module.exports=function(obj){obj||(obj={});var __p="";with(obj)__p+='<div class="loading--light cushion left">\n    <div class="pie rotation"></div>\n    <div class="pie filler"></div>\n    <div class="mask"></div>\n</div>\n<div class="cushion left pls">\n    <h4 class="text-gray font-weight-normal mbm" >\n        Your comment is being posted.\n    </h4>\n</div>\n\n';return __p}},291:function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<h3 class="alert-color mbn">Oops! We\'re having technical trouble posting your comment.</h3>\n<h4 class="alert-color subheader">\n    For help, please call Customer Service at 800.988.0886 (U.S./Canada) or\n    +1.617.783.7500 (International) and reference error '+(null==(__t=errorCode)?"":__t)+".\n</h4>\n";return __p}},292:function(t,e,s){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function i(t){this.initializeAsComponent(t),o=this}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o,n=s(2),r=a(n),l=s(135),u=a(l),d=s(157).trigger,h=s(157).isElementInViewport;i.prototype={globalEvents:{"click [js-target='slider-promo-close']":"closeSliderPromo","click .transparent-layer-white":"closeSliderPromo"},render:function(){var t=(0,r["default"])(document).width(),e=(0,r["default"])(document).height();(0,r["default"])("<div/>",{"class":"transparent-layer-white",height:e,width:t,bottom:-200}).hide().appendTo("body").fadeIn(300),(0,r["default"])("<slider-promo/>").addClass("slider-promo text-center").append((0,r["default"])("[js-target='slider-promo-content']").html()).appendTo("body"),(0,r["default"])("slider-promo").animate({bottom:0},500),d("metrics:helpbox_shown",{helpbox:"rr-article-slider"})},checkPromo:function(){(0,r["default"])("[js-target='slider-promo-content'] > personalization-placement").children().length&&!document.cookie.match(/hbr_rp=article_slider/)&&((0,r["default"])("slider-promo").length||h((0,r["default"])("section.authors")[0])&&(document.cookie="hbr_rp=article_slider;max-age=3888000;",o.render()))},closeSliderPromo:function(t){t.preventDefault(),(0,r["default"])("slider-promo").animate({bottom:-200},400).fadeOut(500,function(){(0,r["default"])(this).remove()}),(0,r["default"])(".transparent-layer-white").fadeOut(500,function(){(0,r["default"])(this).remove()}),d("metrics:helpbox_closed",{helpbox:"rr-article-slider"})}},(0,u["default"])(i,"slider-promo"),i.checkPromo=i.prototype.checkPromo,e["default"]=i,t.exports=e["default"]},293:function(t,e,s){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function i(t){this.initializeAsComponent(t),o=this}Object.defineProperty(e,"__esModule",{
value:!0}),e["default"]=i;var o,n=s(2),r=a(n),l=s(135),u=a(l),d=s(157).trigger;i.prototype={globalEvents:{"click [js-target='no-thanks']":"checkPromo"},render:function(){(0,r["default"])("<popup-slider/>").addClass("popup-slider text-center").append((0,r["default"])("[js-target='exit-popup-slider-content']").html()).appendTo("body"),(0,r["default"])("popup-slider").animate({bottom:0},500),d("metrics:helpbox_shown",{helpbox:"6_month_offer"})},checkPromo:function(t){t.preventDefault(),(0,r["default"])("[js-target='exit-popup-slider-content'] > personalization-placement").children().length&&!document.cookie.match(/hbr_ps=exit_slider/)?(document.cookie="hbr_ps=exit_slider;max-age=2592000;",o.render()):window.location.href=t.currentTarget.href}},(0,u["default"])(i,"popup-slider"),i.checkPromo=i.prototype.checkPromo,e["default"]=i,t.exports=e["default"]}});
var ifEUUser=function(){var gip2=function(){"use strict";function Lookup(a,b,c,d){this.successCallback=a,this.errorCallback=b,this.geolocation=c&&c.hasOwnProperty("geolocation")?c.geolocation:navigator.geolocation,this.type=d}var exports={};Lookup.prototype.returnSuccess=function(a){this.successCallback&&"function"==typeof this.successCallback&&this.successCallback(this.fillInObject(this.objectFromJSON(a)))},Lookup.prototype.returnError=function(a){this.errorCallback&&"function"==typeof this.errorCallback&&(a||(a={error:"Unknown error"}),this.errorCallback(a))},Lookup.prototype.objectFromJSON=function(json){return void 0!==window.JSON&&"function"==typeof window.JSON.parse?window.JSON.parse(json):eval("("+json+")")};var fillIns={country:[["continent","Object","names","Object"],["country","Object","names","Object"],["registered_country","Object","names","Object"],["represented_country","Object","names","Object"],["traits","Object"]],city:[["city","Object","names","Object"],["continent","Object","names","Object"],["country","Object","names","Object"],["location","Object"],["postal","Object"],["registered_country","Object","names","Object"],["represented_country","Object","names","Object"],["subdivisions","Array",0,"Object","names","Object"],["traits","Object"]]};return Lookup.prototype.fillInObject=function(a){for(var b="country"===this.type?fillIns.country:fillIns.city,c=0;c<b.length;c++)for(var d=b[c],e=a,f=0;f<d.length;f+=2){var g=d[f];e[g]||(e[g]="Object"===d[f+1]?{}:[]),e=e[g]}try{Object.defineProperty(a.continent,"continent_code",{enumerable:!1,get:function(){return this.code},set:function(a){this.code=a}})}catch(b){a.continent.code&&(a.continent.continent_code=a.continent.code)}if("country"!==this.type)try{Object.defineProperty(a,"most_specific_subdivision",{enumerable:!1,get:function(){return this.subdivisions[this.subdivisions.length-1]},set:function(a){this.subdivisions[this.subdivisions.length-1]=a}})}catch(b){a.most_specific_subdivision=a.subdivisions[a.subdivisions.length-1]}return a},Lookup.prototype.getGeoIPResult=function(){var a,b,c=this,d="//js.maxmind.com/geoip/v2.0/"+this.type+"/me?",e={referrer:location.protocol+"//"+location.hostname};if(!this.alreadyRan){this.alreadyRan=1,"Microsoft Internet Explorer"===navigator.appName&&window.XDomainRequest&&-1===navigator.appVersion.indexOf("MSIE 1")?(b=new XDomainRequest,d=window.location.protocol+d,b.onprogress=function(){}):(b=new window.XMLHttpRequest,d="https:"+d);for(a in e)e.hasOwnProperty(a)&&e[a]&&(d+=a+"="+encodeURIComponent(e[a])+"&");d=d.substring(0,d.length-1),b.open("GET",d,!0),b.onload=function(){if(void 0===b.status||200===b.status)c.returnSuccess(b.responseText);else{var a;if(/json/.test(b.hasOwnProperty("contentType")?b.contentType:b.getResponseHeader("Content-Type"))&&b.responseText.length)try{a=c.objectFromJSON(b.responseText)}catch(c){a={code:"HTTP_ERROR",error:"The server returned a "+b.status+" status with an invalid JSON body."}}else a=b.responseText.length?{code:"HTTP_ERROR",error:"The server returned a "+b.status+" status with the following body: "+b.responseText}:{code:"HTTP_ERROR",error:"The server returned a "+b.status+" status but either the server did not return a body or this browser is a version of Internet Explorer that hides error bodies."};c.returnError(a)}},b.ontimeout=function(){c.returnError({code:"HTTP_TIMEOUT",error:"The request to the GeoIP2 web service timed out."})},b.onerror=function(){c.returnError({code:"HTTP_ERROR",error:"There was a network error receiving the response from the GeoIP2 web service."})},b.send(null)}},exports.country=function(a,b,c){new Lookup(a,b,c,"country").getGeoIPResult()},exports.city=function(a,b,c){new Lookup(a,b,c,"city").getGeoIPResult()},exports.cityISPOrg=function(a,b,c){new Lookup(a,b,c,"city_isp_org").getGeoIPResult()},exports.omni=function(a,b,c){new Lookup(a,b,c,"omni").getGeoIPResult()},exports}(),eucodes=["EU","BE","BG","CZ","DK","DE","EE","IE","EL","ES","FR","IT","CY","LV","LT","LU","HU","MT","NL","AT","PL","PT","RO","SI","SK","FI","SE","UK","NO","CH","AL","BA","HR","GB","GR"];return function(a,b,c){gip2.country(function(c){for(var d=0,e=c.country.iso_code;d<eucodes.length;d++)if(e===eucodes[d])return void(a&&a(e));b&&b(e)},c)}}();window.gdprConsent=function(){function a(a){n>0&&console.log(a)}function b(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent&&a.attachEvent("on"+b,c)}function c(){var c=document.getElementsByTagName("body")[0];if(c.innerHTML+=p,c.getElementsByClassName("consent-banner")){var d=document.querySelector("[x]");d&&b(d,"click",f);var g=document.querySelector("[y]");g&&b(g,"click",e)}else a("cannot find 'consent-banner' section!")}function d(){var a=document.getElementsByClassName("consent-banner");a.length>0&&(a[0].innerHTML="")}function e(){d(),h("true",m)}function f(){d(),window._suppress_DFP_ads=!0,h("false",g(3600))}function g(a){if("number"==typeof a&&a>0){var b=new Date;b.setTime(b.getTime()+1e3*a),a="expires="+b.toGMTString()+"; "}else a="";return a}function h(a,b){document.cookie="targeted_ads="+a+"; "+b+"domain=hbr.org; path=/"}function i(){var a=document.cookie.match(/targeted_ads=/);if(a){var b=a.index+"targeted_ads=".length,c=document.cookie.indexOf(";",b);a=c<0?document.cookie.substring(b):document.cookie.substring(b,c)}return a}function j(b){a("geoip eu: "+b),window._suppress_DFP_ads=!0,h(b,g(3600)),o=!0}function k(b){a("geoip non-eu: "+b),window._suppress_DFP_ads=!1,h("true",m)}function l(b){a("geoip error: "+b)}var m="Fri, 31 Dec 2032 23:59:59 GMT; ",n=0,o=!1,p='<section class="clearfix hide-for-print consent-banner"><div><a href="javascript:void(0)" class="right icon icon-times link--black baseline-shift-up" x></a></div><div class="row"><div class="small-12 column text-center mtm"><h4 class="subheader" style="color:#000000">We use cookies to understand how you use our site and to improve your experience. This includes personalizing content and advertising. To learn more, <a href="https://hbr.org/corporate/cookie-policy" style="color:#c82502"> click here. </a>By continuing to use our site, you accept our use of cookies, revised Privacy Policy and Terms of Use.</h4> <a y><h4 style="color:#c82502">I ACCEPT.</h4></a></div></div><style>section.consent-banner{z-index:8000;position:fixed;background-color:#FEFEFE;border-top:1px solid #DDDDDD;padding:36px 36px 36px 12px;height: auto;width:100%;bottom:0;}</style></section>';return{check:function(){var a=i();a?(window._suppress_DFP_ads="true"!=a)&&(o=!0):(window._suppress_DFP_ads=!0,ifEUUser(j,k,l))},banner:function(){return!!o&&(o=!1,c(),!0)}}}(),window.top&&window.self&&window.top!==window.self||gdprConsent.check();
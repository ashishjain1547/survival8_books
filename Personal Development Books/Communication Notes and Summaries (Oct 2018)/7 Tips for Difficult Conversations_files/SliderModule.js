/*@preserve
***Version 1.1.1***
*/
/*@license
 *                       Copyright 2002 - 2018 Qualtrics, LLC.
 *                        CONFIDENTIAL.  All rights reserved.
 *
 * Notice: All code, text, concepts, and other information herein (collectively, the
 * "Materials") are the sole property of Qualtrics, LLC, except to the extent
 * otherwise indicated. The Materials are proprietary to Qualtrics and are protected
 * under all applicable laws, including copyright, patent (as applicable), trade
 * secret, and contract law. Disclosure or reproduction of any Materials is strictly
 * prohibited without the express prior written consent of an authorized signatory
 * of Qualtrics. For disclosure requests, please contact notice@qualtrics.com.
 */
try{(void 0===window.QSI.Slider||window.QTest)&&(QSI.Slider=QSI.util.Creative(QSI.BuildElementModule,{pos:{B:"bottom",T:"top",L:"left",R:"right",BL:"bottomleft",TL:"topleft",BR:"bottomright",TR:"topright"},anchor:{T:"top",B:"bottom"},shadowPadding:20,initialize:function(t){this.globalInitialize(t),this.elements=t.elements.Elements||[],this.targetType=t.targetType,this.state="in",this.removed=!1,this.minTop=t.elements.MinTop,this.minLeft=t.elements.MinLeft,this.hasCreativeEmbeddedTarget=t.hasCreativeEmbeddedTarget;var i=this;this.userOpened=!1,this.userClosed=!1,QSI.util.processLocators(this.elements),this.shouldShow()&&(this.auto=!0,(this.displayOptions.hasVisibleControl||this.displayOptions.displayOnScroll)&&(this.auto=!1),this.container=this.build(),this.resetStyles(),document.body.appendChild(this.container),this.displayOptions.hasVisibleControl&&QSI.global.featureFlags.deferredSliderLoadingFeatureEnabled&&this.hasCreativeEmbeddedTarget?(this.targetLoaded=!1,QSI.util.when(QSI.util.getTimeout(this.displayOptions.delay)).done(function(){i.removed||(i.display(),i.poppedUp=!0)})):(this.initializeIframes(),this.targetLoaded=!0,QSI.util.when(this.container.loadingDeferred,QSI.util.getTimeout(this.displayOptions.delay)).done(function(){i.display(),i.poppedUp=!0})))},display:function(){var t,i=this;this.resizeHandler=function(){try{i.resize()}catch(t){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(t)}},QSI.util.observe(window,"resize",this.resizeHandler),QSI.util.observe(window,"touchend",this.resizeHandler);var s=window.pageYOffset;if(this.moveBack=!1,this.positionHandler=function(){try{!0===i.moveBack?(window.scrollTo(0,s),i.moveBack=!1):(s=window.pageYOffset,window.scrollTo(0,0),i.moveBack=!0)}catch(t){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(t)}},"Safari"===QSI.Browser.name&&QSI.Browser.isMobile&&this.displayOptions.hasVisibleControl&&QSI.util.observe(this.container,"click",this.positionHandler),this.refreshAnimationPositions(),this.auto)t=this.slideOut();else{if(this.displayOptions.hasVisibleControl){this.buildControl();var e=this.getAnimationPositions().start,o=e.x,n=e.y;e=this.animationPosition.start,t=QSI.Animation.animateStyle(this.container,{from:{top:n,left:o},to:{top:e.y,left:e.x}},200,"easeto")}this.displayOptions.displayOnScroll&&QSI.util.observe(window,"scroll",function(){try{i.handlingScroll||(i.handlingScroll=!0,i.handleScroll())}catch(t){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(t)}})}var h=function(){i.displayOptions.close&&0<parseInt(i.displayOptions.close,10)&&QSI.util.getTimeout(i.displayOptions.close).done(function(){i.close(!0)})};t?(t.done(function(){i.displayed.resolve()}),t.done(h)):(h(),this.displayed.resolve())},refreshAnimationPositions:function(){if(this.animationPosition=this.getAnimationPositions(),this.displayOptions.hasVisibleControl){var t=this.animationPosition.start,i=parseInt(this.displayOptions.controlSize,10)+this.shadowPadding;switch(this.animationPosition.curPos){case this.pos.B:t.y-=i;break;case this.pos.T:t.y+=i;break;case this.pos.L:t.x+=i;break;case this.pos.R:t.x-=i;break;case this.pos.TL:t.x+=i,t.y+=i;break;case this.pos.TR:t.x-=i,t.y+=i;break;case this.pos.BL:t.x+=i,t.y-=i;break;case this.pos.BR:t.x-=i,t.y-=i}}},slideOut:function(){var t=this;if("in"===this.state&&!this.sliding){if(!this.targetLoaded&&this.displayOptions.hasVisibleControl&&QSI.global.featureFlags.deferredSliderLoadingFeatureEnabled){var i=this.container.getElementsByClassName("scrollable")[0];if(i&&this.hasCreativeEmbeddedTarget){var s=parseInt(i.style.height,10)/2-37.5,e=parseInt(i.style.width,10)/2-37.5,o=new QSI.LoadingAnimationElement,n=o.buildAnimation(75,s,e);i.appendChild(n),o.startAnimation(100),this.initializeIframes(),this.targetLoaded=!0,QSI.util.when(this.container.loadingDeferred).done(function(){o.stopAnimation()})}}this.sliding=!0;var h=this.animationPosition.start,a=this.animationPosition.end;return this.state="out",this.impressed||(this.impress(),this.impressed=!0),QSI.Animation.animateStyle(this.container,{from:{top:h.y,left:h.x},to:{top:a.y,left:a.x}},400,"easeto").done(function(){t.sliding=!1})}},slideIn:function(){var t=this;if("out"===this.state&&!this.sliding){this.sliding=!0;var i=this.animationPosition.start;return this.state="in",QSI.Animation.animateStyle(this.container,{top:i.y,left:i.x},400,"easeto").done(function(){t.sliding=!1})}},buildControl:function(){var t={},i=this.displayOptions.controlSize,s=this;switch(this.animationPosition.curPos){case this.pos.B:t={width:this.controlWidth+"px",height:i+"px",left:this.controlLeft+"px",top:"0px"};break;case this.pos.T:t={width:this.controlWidth+"px",height:i+"px",left:this.controlLeft+"px",top:this.height-i+"px"};break;case this.pos.L:t={height:this.controlHeight+"px",width:i+"px",left:this.width-i+"px",top:this.controlTop+"px"};break;case this.pos.R:t={height:this.controlHeight+"px",width:i+"px",left:"0px",top:this.controlTop+"px"};break;case this.pos.TL:t={height:i+"px",width:i+"px",left:this.width-i+"px",top:this.height-i+"px"};break;case this.pos.TR:t={height:i+"px",width:i+"px",left:0,top:this.height-i+"px"};break;case this.pos.BL:t={height:i+"px",width:i+"px",left:this.width-i+"px",top:0};break;case this.pos.BR:t={height:i+"px",width:i+"px",left:0,top:0}}t.cursor="pointer",t.position="absolute",t.zIndex=21e8,t.background="transparent",t.filter="alpha(opacity=0)";var e="slider-control-"+this.id;this.control=QSI.util.build("div",{id:e}),QSI.util.observe(this.control,"click",function(){try{s.toggleControl()}catch(t){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(t)}}),QSI.util.observe(this.control,"keydown",function(t){try{32!==t.which&&13!==t.which||s.toggleControl()}catch(t){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(t)}}),this.control.tabIndex=0,QSI.util.setStyle(this.control,t),this.container.insertBefore(this.control,this.container.firstChild)},toggleControl:function(){"in"===this.state?(this.slideOut(),this.userOpened=!0,this.userClosed=!1):"out"===this.state&&(this.slideIn(),this.userOpened=!1,this.userClosed=!0)},handleScroll:function(){var t=QSI.util.getScrollOffsets(),i=QSI.util.getScroll().height-QSI.util.getPageSize().height,s=t.top,e=this.displayOptions.pageScrollLength,o=this.displayOptions.pageScrollUnitOfMeasurement,n=this.displayOptions.pageScrollAnchor;0<=s&&s<=i&&!this.userOpened&&!this.userClosed&&("px"===o?n===this.anchor.B&&(e=i-e):(n===this.anchor.B&&(e=100-e),e=i*(e/100)),s<e?this.slideIn():this.slideOut()),this.handlingScroll=!1},build:function(){var t,i,s,e,o,n,h,a,r=[],l=0,d=0,p=0,c=2e7,g=0,u=2e7,f=0,y=!1,I=!1,S=!1,b=[];for(this.animationPosition=this.getAnimationPositions(),n=this.elements.length,o=0;o<n;o++)(t=this.buildElement(this.elements[o]))&&t.style&&(t.style.borderWidth&&(p=2*parseInt(t.style.borderWidth,10)),h=parseInt(t.style.left,10)+parseInt(t.style.width,10)+p,a=parseInt(t.style.top,10)+parseInt(t.style.height,10)+p,isNaN(h)||(l=Math.max(l,h)),isNaN(a)||(d=Math.max(d,a)),r.push(t),b.push(t.loadingDeferred));for(this.width=l,this.height=d,n=r.length,o=0;o<n;o++)if((t=r[o])&&t.style){switch(t.style.borderWidth&&(p=2*parseInt(t.style.borderWidth,10)),S=I=y=!1,this.animationPosition.curPos){case this.pos.B:S=!0,y=parseInt(t.style.top,10)<this.displayOptions.controlSize;break;case this.pos.T:S=!0,y=parseInt(t.style.top,10)+parseInt(t.style.height,10)+p>this.height-this.displayOptions.controlSize;break;case this.pos.L:I=!0,y=parseInt(t.style.left,10)+parseInt(t.style.width,10)+p>this.width-this.displayOptions.controlSize;break;case this.pos.R:I=!0,y=parseInt(t.style.left,10)<this.displayOptions.controlSize}if(y&&I){var m=parseInt(t.style.top,10)+parseInt(t.style.height,10)+p;g=Math.max(g,m),c=Math.min(c,parseInt(t.style.top,10))}else if(y&&S){var w=parseInt(t.style.left,10)+parseInt(t.style.width,10)+p;f=Math.max(f,w),u=Math.min(u,parseInt(t.style.left,10))}}return this.controlWidth=f-u,this.controlHeight=g-c,this.controlTop=c,this.controlBottom=g,this.controlLeft=u,this.controlRight=f,i=Math.floor(1.2*this.width),s=Math.floor(1.2*this.height),e="fixed",QSI.util.isFixed()||(e="absolute"),(t=QSI.util.build("div",{className:"QSISlider "+this.id+"_SliderContainer",style:{position:e,top:-s+"px",left:-i+"px",zIndex:"2000000000"}},r)).loadingDeferred=QSI.util.when.apply(this,b),this.elementNodes=r,t},getAnimationPositions:function(){var t=this.width,i=this.height,s=QSI.util.getPageSize(),e=QSI.util.getScrollOffsets(),o=QSI.util.getBrowserViewHeight(),n=this.displayOptions.startPosition,h=-t,a=(o-i)/2,r=-t,l=(o-i)/2,d=this.pos.L,p=parseInt(this.displayOptions.xOffset,10),c=parseInt(this.displayOptions.yOffset,10),g=s.width;switch("Internet Explorer"===QSI.Browser.name&&QSI.Browser.version<9&&(g=s.width),n){default:case"OML":h=-t-this.shadowPadding,r=0,l=a=(o-i)/2,d=this.pos.L;break;case"OTLL":h=-t-this.shadowPadding,r=a=0,l=a,d=this.pos.L;break;case"OTL":h=-t-this.shadowPadding,a=-i-this.shadowPadding,l=r=0,d=this.pos.TL;break;case"OTLT":h=0,a=-i-this.shadowPadding,r=h,l=0,d=this.pos.T;break;case"OBLL":h=-t-this.shadowPadding,r=0,l=a=o-i,d=this.pos.L;break;case"OBLB":h=0,a=o+this.shadowPadding,l=o-i,r=h,d=this.pos.B;break;case"OTC":h=(g-t)/2,a=-i-this.shadowPadding,r=h,l=0,d=this.pos.T;break;case"OTRR":h=g+this.shadowPadding,r=g-t,l=a=0,d=this.pos.R;break;case"OTR":h=g+this.shadowPadding,a=-i-this.shadowPadding,r=g-t,l=0,d=this.pos.TR;break;case"OTRT":h=g-t,a=-i-this.shadowPadding,r=h,l=0,d=this.pos.T;break;case"OMR":h=g+this.shadowPadding,r=g-t,l=a=(o-i)/2,d=this.pos.R;break;case"OBRR":h=g+this.shadowPadding,r=g-t,l=a=o-i,d=this.pos.R;break;case"OBR":h=g+this.shadowPadding,a=o+this.shadowPadding,r=g-t,l=o-i,d=this.pos.BR;break;case"OBRB":h=g-t,a=o+this.shadowPadding,l=o-i,r=h,d=this.pos.B;break;case"OBC":h=(g-t)/2,a=o+this.shadowPadding,l=o-i,r=h,d=this.pos.B;break;case"OBL":h=-t-this.shadowPadding,a=o+this.shadowPadding,r=0,l=o-i,d=this.pos.BL}switch(d){case this.pos.B:case this.pos.T:r=h+=p;break;case this.pos.R:case this.pos.L:l=a+=c;break;case this.pos.TL:case this.pos.TR:case this.pos.BL:case this.pos.BR:r+=p,l+=c}return QSI.util.isFixed()||(h+=e.left,a+=e.top),{start:{x:h,y:a},end:{x:r,y:l},curPos:d}},getYPosition:function(t){return t.top-this.minTop},getXPosition:function(t){return t.left-this.minLeft},reposition:function(){this.refreshAnimationPositions();var t=this.animationPosition.start,i=this.animationPosition.end;"in"===this.state?(this.container.style.left=t.x+"px",this.container.style.top=t.y+"px"):"out"===this.state&&(this.container.style.left=i.x+"px",this.container.style.top=i.y+"px")},resize:function(){this.resizeElements();var t=this.getContainerDimensions();this.width=t.width,this.height=t.height,t.width="0px",t.height="0px",QSI.util.setStyle(this.container,t),this.reposition()},resizeElements:function(){var o=this;QSI.util.each(this.elements,function(t,i){var s=o.convertPercentStylesToPixels(t.style,t.unitsOfMeasurement),e=o.elementNodes[i];e&&o.resizeElement(e,t,s)})},getContainerDimensions:function(){var n=0,h=0,a=this;return QSI.util.each(this.elements,function(t){var i=a.convertPercentStylesToPixels(t.style,t.unitsOfMeasurement),s=0;i&&i.borderWidth&&(s=2*parseInt(i.borderWidth,10));var e=i.width+parseInt(a.getXPosition(t.position),10)+s,o=i.height+parseInt(a.getYPosition(t.position),10)+s;n<e&&(n=e),h<o&&(h=o)}),{width:n,height:h}},resizeElement:function(t,i,s){var e=parseInt(s.borderWidth,10),o=s.width,n=s.height;if(QSI.util.setStyle(t,{width:o+"px",height:n+"px"}),i.dropShadow){isNaN(e)&&(e=0),t.removeChild(t.firstChild);var h=2*e;t.insertBefore(this.buildDropShadow(o+h,n+h,e),t.children[0])}},getElementStyle:function(t,i,s){return t=this.convertPercentStylesToPixels(t,s),{top:this.getYPosition(i)+"px",left:this.getXPosition(i)+"px",position:"absolute",zIndex:t.zIndex,width:t.width+"px",height:t.height+"px",backgroundColor:t.backgroundColor,borderWidth:t.borderWidth+"px",borderColor:t.borderColor,borderStyle:"solid",borderRadius:t.borderRadius+"px",display:t.display}},closeOnTargetClick:function(){this.displayOptions.removeOnTargetClick?this.container.parentNode.removeChild(this.container):this.displayOptions.hasVisibleControl&&this.slideIn()},remove:function(){this.removed=!0,this.container&&QSI.util.remove(this.container)},close:function(t){try{this.cleanupImpressElement(),this.displayOptions.removeOnClose?this.container.parentNode&&this.container.parentNode.removeChild(this.container):this.slideIn(),t||(this.userOpened=!1,this.userClosed=!0)}catch(t){}}}))}catch(t){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(t)}
//# sourceMappingURL=SliderModule.js.map